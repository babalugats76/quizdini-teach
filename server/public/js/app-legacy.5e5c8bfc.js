(function(e){function t(t){for(var a,u,o=t[0],i=t[1],h=t[2],s=0,k=[];s<o.length;s++)u=o[s],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&k.push(r[u][0]),r[u]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(k.length)k.shift()();return c.push.apply(c,h||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,u=1;u<n.length;u++){var o=n[u];0!==r[o]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},u={app:0},r={app:0},c=[];function o(e){return i.p+"js/"+({"`chunk-${route.webpackChunkName}`0":"`chunk-${route.webpackChunkName}`0","`chunk-${route.webpackChunkName}`1":"`chunk-${route.webpackChunkName}`1","`chunk-${route.webpackChunkName}`2":"`chunk-${route.webpackChunkName}`2","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6":"`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`3":"`chunk-${route.webpackChunkName}`3","`chunk-${route.webpackChunkName}`5":"`chunk-${route.webpackChunkName}`5","`chunk-${route.webpackChunkName}`6":"`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`4":"`chunk-${route.webpackChunkName}`4"}[e]||e)+"-legacy."+{"`chunk-${route.webpackChunkName}`0":"a3ddedfa","`chunk-${route.webpackChunkName}`1":"a1478e4a","`chunk-${route.webpackChunkName}`2":"bdd4e0c8","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6":"707a7672","`chunk-${route.webpackChunkName}`3":"1b8c0c2e","`chunk-${route.webpackChunkName}`5":"2707381e","`chunk-${route.webpackChunkName}`6":"301c4d64","`chunk-${route.webpackChunkName}`4":"2c6d7992"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6":1};u[e]?t.push(u[e]):0!==u[e]&&n[e]&&t.push(u[e]=new Promise((function(t,n){for(var a="css/"+({"`chunk-${route.webpackChunkName}`0":"`chunk-${route.webpackChunkName}`0","`chunk-${route.webpackChunkName}`1":"`chunk-${route.webpackChunkName}`1","`chunk-${route.webpackChunkName}`2":"`chunk-${route.webpackChunkName}`2","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6":"`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`3":"`chunk-${route.webpackChunkName}`3","`chunk-${route.webpackChunkName}`5":"`chunk-${route.webpackChunkName}`5","`chunk-${route.webpackChunkName}`6":"`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`4":"`chunk-${route.webpackChunkName}`4"}[e]||e)+"."+{"`chunk-${route.webpackChunkName}`0":"31d6cfe0","`chunk-${route.webpackChunkName}`1":"31d6cfe0","`chunk-${route.webpackChunkName}`2":"31d6cfe0","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6":"d3547520","`chunk-${route.webpackChunkName}`3":"31d6cfe0","`chunk-${route.webpackChunkName}`5":"31d6cfe0","`chunk-${route.webpackChunkName}`6":"31d6cfe0","`chunk-${route.webpackChunkName}`4":"31d6cfe0"}[e]+".css",r=i.p+a,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var h=c[o],s=h.getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(s===a||s===r))return t()}var k=document.getElementsByTagName("style");for(o=0;o<k.length;o++){h=k[o],s=h.getAttribute("data-href");if(s===a||s===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete u[e],d.parentNode.removeChild(d),n(c)},d.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(d)})).then((function(){u[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=c);var h,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=o(e);var k=new Error;h=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),u=t&&t.target&&t.target.src;k.message="Loading chunk "+e+" failed.\n("+a+": "+u+")",k.name="ChunkLoadError",k.type=a,k.request=u,n[1](k)}r[e]=void 0}};var d=setTimeout((function(){h({type:"timeout",target:s})}),12e4);s.onerror=s.onload=h,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],s=h.push.bind(h);h.push=t,h=h.slice();for(var k=0;k<h.length;k++)t(h[k]);var d=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00ea":function(e,t,n){},"1a5d":function(e,t,n){var a={"./AuthSuccess.vue":["3fc7","`chunk-${route.webpackChunkName}`0"],"./Dashboard.vue":["7277","`chunk-${route.webpackChunkName}`1"],"./Landing.vue":["bede","`chunk-${route.webpackChunkName}`2"],"./Login.vue":["a55b","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`3"],"./NotFound.vue":["9703","`chunk-${route.webpackChunkName}`4"],"./Register.vue":["73cf","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`5"],"./Test.vue":["78c1","`chunk-${route.webpackChunkName}`3~`chunk-${route.webpackChunkName}`5~`chunk-${route.webpackChunkName}`6","`chunk-${route.webpackChunkName}`6"]};function u(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],u=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(u)}))}u.keys=function(){return Object.keys(a)},u.id="1a5d",e.exports=u},"1c1e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("96cf");var a=n("1da1"),u=n("bc3a"),r=n.n(u);r.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var c={timeout:3e4},o=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,a=t.config,u=void 0===a?c:a,e.prev=1,e.next=4,r.a.get(n,u);case 4:return o=e.sent,e.abrupt("return",{data:o.data,error:!1});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{data:e.t0.response.data,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,u,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,a=t.data,u=t.config,o=void 0===u?c:u,e.prev=1,e.next=4,r.a.post(n,a,o);case 4:return i=e.sent,e.abrupt("return",{data:i.data,error:!1});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{data:e.t0.response.data,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},"361e":function(e,t,n){"use strict";n("00ea")},3786:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n("1c1e"),u="/api/current_user",r="/auth/local",c=function(){return Object(a["a"])({url:"".concat(u)})},o=function(e){return Object(a["b"])({url:"".concat(r),data:e})}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function u(e,t,n,u,r,c){var o=Object(a["A"])("router-view");return Object(a["s"])(),Object(a["d"])(Object(a["B"])(r.layout),null,{default:Object(a["J"])((function(){return[Object(a["g"])(o,{layout:r.layout,"onUpdate:layout":t[1]||(t[1]=function(e){return r.layout=e})},null,8,["layout"])]})),_:1})}var r={name:"App",data:function(){return{layout:"div"}}};n("bc43");r.render=u;var c,o,i,h=r,s=(n("d81d"),n("45fc"),n("d3b7"),n("5530")),k=n("6c02"),d=[{path:"/",name:"Home",view:"Landing",meta:{navItem:!0},props:!1,webpackChunkName:"public"},{path:"/test",name:"Test",view:"Test",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/register",name:"Sign Up",view:"Register",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/login",name:"Login",view:"Login",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/success",name:"Success",view:"AuthSuccess",meta:{navItem:!1},props:!1,webpackChunkName:"public"},{path:"/dashboard",name:"Dashboard",view:"Dashboard",meta:{navItem:!0,auth:!0},props:!0,webpackChunkName:"member"},{path:"/:catchAll(.*)",name:"Not Found",view:"NotFound",meta:{navItem:!1},webpackChunkName:"public"}],l=d,p=n("2909"),b=n("5502"),m=function(){return{counter:0}},f={counter:function(e){return e.counter}},g={setCounter:function(e,t){var n=e.commit;n("setCounter",t)},resetCounter:function(e){var t=e.commit;t("setCounter",{counter:0})},updateCounter:function(e){var t=e.commit;t("incrementCounter")}},v={setCounter:function(e,t){e.counter=t.counter},incrementCounter:function(e){e.counter++}},w={namespaced:!0,state:m,getters:f,actions:g,mutations:v},C=n("ade3"),N=n("3786"),O=(n("96cf"),n("1da1")),j=function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var a,u,r,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.cb,u=n.types,e.prev=1,t.commit(u.PENDING),e.next=5,a();case 5:r=e.sent,c=r.data,o=r.error,t.commit(o?u.FAILURE:u.SUCCESS,c),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.commit(u.FAILURE,e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),$=n("6e87"),y={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},E={data:y,error:null,failed:!1,loaded:!1,loading:!1},_=function(){return E},I={accountType:function(e){return e.accountType},auth:function(e){return e.data},loggedIn:function(e){return e.data.loggedIn},credits:function(e){return e.data.credits},error:function(e){return e.error},failed:function(e){return e.failed},googlePicture:function(e){return e.googlePicture},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},S=Object(C["a"])({},$["a"].FETCH,(function(e){return j(e,{cb:function(){return Object(N["a"])()},types:$["a"]})})),T=(c={},Object(C["a"])(c,$["a"].PENDING,(function(e){e.loading=!0})),Object(C["a"])(c,$["a"].SUCCESS,(function(e,t){var n=t||{},a=n.googleId,u=n.id,r=void 0===u?null:u,c=r?Object(s["a"])(Object(s["a"])({},t),{},{accountType:a?"google":"local",loggedIn:!0}):y;e.data=c,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(C["a"])(c,$["a"].FAILURE,(function(e,t){e.data=y,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),c),A={namespaced:!0,state:_,getters:I,actions:S,mutations:T},P=(n("13d5"),n("1c1e")),U="/api/countries",L=function(){return Object(P["a"])({url:"".concat(U)})},x={data:[],error:null,failed:!1,loaded:!1,loading:!1},F=function(){return x},D={all:function(e){return e.data},options:function(e){return e.data.reduce((function(e,t){return e.push({key:t.countryId,value:t.countryCode,text:t.countryName}),e}),[])},error:function(e){return e.error},failed:function(e){return e.failed},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},R=Object(C["a"])({},$["b"].FETCH,(function(e){return j(e,{cb:function(){return L()},types:$["b"]})})),H=(o={},Object(C["a"])(o,$["b"].PENDING,(function(e){e.loading=!0})),Object(C["a"])(o,$["b"].SUCCESS,(function(e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(C["a"])(o,$["b"].FAILURE,(function(e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),o),z={namespaced:!0,state:F,getters:D,actions:R,mutations:H},G="/api/states",M=function(){return Object(P["a"])({url:"".concat(G)})},q={data:[],error:null,failed:!1,loaded:!1,loading:!1},B=function(){return q},J={all:function(e){return e.data},options:function(e){return e.data.reduce((function(e,t){return e.push({key:t.stateId,value:t.stateCode,text:t.stateName}),e}),[])},error:function(e){return e.error},failed:function(e){return e.failed},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},K=Object(C["a"])({},$["c"].FETCH,(function(e){return j(e,{cb:function(){return M()},types:$["c"]})})),Q=(i={},Object(C["a"])(i,$["c"].PENDING,(function(e){e.loading=!0})),Object(C["a"])(i,$["c"].SUCCESS,(function(e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(C["a"])(i,$["c"].FAILURE,(function(e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),i),Z={namespaced:!0,state:B,getters:J,actions:K,mutations:Q},V={init:function(e){return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("auth/AUTH_FETCH");case 3:case"end":return t.stop()}}),t)})))()}},W=V,X=!1,Y=Object(b["b"])({plugins:Object(p["a"])(X?[Object(b["a"])()]:[]),actions:W,modules:{test:w,auth:A,countries:z,states:Z},strict:X}),ee=Y,te=ee.dispatch("init"),ne=Object(a["b"])((function(){return ee.getters["auth/loggedIn"]})),ae=Object(k["a"])({history:Object(k["b"])(),routes:l.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{component:function(){return n("1a5d")("./".concat(e.view,".vue"))}})}))});ae.beforeEach((function(e,t,n){te.then(n).catch((function(e){return console.log("Unable to initialize store",e)}))})),ae.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.guest}))?ne.value?n({name:"Dashboard"}):n():e.matched.some((function(e){return e.meta.auth}))?ne.value?n():n({name:"Login"}):n()}));var ue=ae,re=(n("4160"),n("b0c0"),n("159b"),Object(a["M"])("data-v-092b3d2c"));Object(a["v"])("data-v-092b3d2c");var ce={class:"app"},oe={class:"app__header"},ie={class:"app__main"},he=Object(a["g"])("footer",{class:"app__footer"},"© Quizdini 2013-21",-1);Object(a["t"])();var se=re((function(e,t,n,u,r,c){var o=Object(a["A"])("app-nav");return Object(a["s"])(),Object(a["d"])("div",ce,[Object(a["g"])("header",oe,[Object(a["g"])(o,{class:"app__nav"})]),Object(a["g"])("main",ie,[Object(a["z"])(e.$slots,"default")]),he])})),ke={class:"nav"},de={key:0,class:"nav__item"},le={key:1,href:"/logout",class:"nav__item",target:"_self"},pe={key:2,class:"nav__item badge"},be={key:3,class:"nav__item nav__item--lc"};function me(e,t,n,u,r,c){var o=Object(a["A"])("NavItems");return Object(a["s"])(),Object(a["d"])("nav",ke,[Object(a["g"])(o,{items:u.routes,authenticated:u.auth.loggedIn},null,8,["items","authenticated"]),u.auth.loggedIn&&u.auth.credits>=0?(Object(a["s"])(),Object(a["d"])("span",de,"Credits: "+Object(a["D"])(u.auth.credits),1)):Object(a["e"])("",!0),u.auth.loggedIn?(Object(a["s"])(),Object(a["d"])("a",le,"logout")):Object(a["e"])("",!0),u.auth.loggedIn&&"google"===u.auth.accountType?(Object(a["s"])(),Object(a["d"])("span",pe,["google"===u.auth.accountType?(Object(a["s"])(),Object(a["d"])("img",{key:0,src:u.auth.googlePicture,class:"badge--google"},null,8,["src"])):Object(a["e"])("",!0)])):Object(a["e"])("",!0),u.auth.loggedIn&&"local"===u.auth.accountType?(Object(a["s"])(),Object(a["d"])("span",be,Object(a["D"])(u.auth.username),1)):Object(a["e"])("",!0)])}n("4de4"),n("25f0");function fe(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(a["l"])(e)}var ge=function(e){var t=e.items,n=e.authenticated;return t.filter((function(e){var t=e.meta;t=void 0===t?{}:t;var a=t.navItem,u=void 0!==a&&a,r=t.auth,c=void 0!==r&&r,o=t.guest,i=void 0!==o&&o;return!!u&&(n?c||!i:!c)})).map((function(e){var t=e.name;return Object(a["g"])(Object(a["A"])("router-link"),{class:"nav__item",to:{name:t},key:t},fe(t)?t:{default:function(){return[t]}})}))},ve={name:"AppNav",components:{NavItems:ge},setup:function(){var e=Object(b["c"])(),t=Object(a["b"])((function(){return e.getters["auth/auth"]}));return{auth:t,routes:l}}};n("9fc1");ve.render=me;var we=ve,Ce={name:"LayoutDefault",components:{AppNav:we}};n("361e");Ce.render=se,Ce.__scopeId="data-v-092b3d2c";var Ne=Ce,Oe=[Ne],je={install:function(e,t){Oe.forEach((function(t){e.component(t.name,t)}))}};Object(a["c"])(h).use(ee).use(ue).use(je).mount("#quizdini")},"6e87":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a=function(e){return{FETCH:"".concat(e,"_FETCH"),SUCCESS:"".concat(e,"_SUCCESS"),FAILURE:"".concat(e,"_FAILURE"),PENDING:"".concat(e,"_PENDING")}},u=a("AUTH"),r=a("COUNTRIES"),c=a("STATES")},"9fc1":function(e,t,n){"use strict";n("ea6e")},bc43:function(e,t,n){"use strict";n("f50f")},ea6e:function(e,t,n){},f50f:function(e,t,n){}});
//# sourceMappingURL=app-legacy.5e5c8bfc.js.map