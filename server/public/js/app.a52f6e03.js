(function(e){function t(t){for(var r,c,l=t[0],u=t[1],i=t[2],b=0,d=[];b<l.length;b++)c=l[b],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"532d":function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("a79d");var r=n("7a23");function o(e,t,n,o,a,c){const l=Object(r["x"])("router-view");return Object(r["p"])(),Object(r["d"])(Object(r["y"])(a.layout),null,{default:Object(r["H"])(()=>[Object(r["g"])(l,{layout:a.layout,"onUpdate:layout":t[1]||(t[1]=e=>a.layout=e)},null,8,["layout"])]),_:1})}var a={name:"App",data(){return{layout:"div"}}};n("bc43");a.render=o;var c=a,l=n("6c02"),u=(n("ddb0"),n("5502"));const i=()=>({counter:0}),s={counter:e=>e.counter},b={setCounter({commit:e},t){e("setCounter",t)},resetCounter({commit:e}){e("setCounter",{counter:0})},updateCounter({commit:e}){e("incrementCounter")}},d={setCounter(e,t){e.counter=t.counter},incrementCounter(e){e.counter++}};var O={namespaced:!0,state:i,getters:s,actions:b,mutations:d},p=n("bc3a"),j=n.n(p);j.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;const g={timeout:3e4},f=async({url:e,config:t=g})=>{try{const n=await j.a.get(e,t);return{data:n.data,error:!1}}catch(n){return{data:n.response.data,error:!0}}},m="/api/current_user",h=()=>f({url:""+m}),v=async(e,{cb:t,types:n})=>{try{e.commit(n.PENDING);const{data:r,error:o}=await t();e.commit(o?n.FAILURE:n.SUCCESS,r)}catch(r){e.commit(n.FAILURE,r)}},y=e=>({FETCH:e+"_FETCH",SUCCESS:e+"_SUCCESS",FAILURE:e+"_FAILURE",PENDING:e+"_PENDING"}),w=y("AUTH"),A={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},C={data:A,error:null,failed:!1,loaded:!1,loading:!1},I=()=>C,S={auth:e=>e.data,error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading,loggedIn:e=>e.data.loggedIn},E={fetch:e=>v(e,{cb:()=>h(),types:w})},x={[w.PENDING](e){e.loading=!0},[w.SUCCESS](e,t){const{googleId:n,id:r=null}=t||{},o=r?{...t,accountType:n?"google":"local",loggedIn:!0}:A;e.data=o,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[w.FAILURE](e,t){e.data=A,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var _={namespaced:!0,state:I,getters:S,actions:E,mutations:x},D=n("532d"),F=n.n(D);const U={async init({dispatch:e}){await e("auth/fetch")}};var L=U;const k=!1,z=Object(u["b"])({plugins:[...k?[Object(u["a"])()]:[]],actions:L,modules:{test:O,auth:_,countries:F.a},strict:k});var N=z;function T(e,t,n,o,a,c){const l=Object(r["x"])("auth"),u=Object(r["x"])("country"),i=Object(r["x"])("layout");return Object(r["p"])(),Object(r["d"])(i,{name:"LayoutDefault"},{default:Object(r["H"])(()=>[Object(r["g"])("div",null,[Object(r["g"])(l),Object(r["g"])(u)])]),_:1})}function q(e,t,n,o,a,c){return Object(r["w"])(e.$slots,"default")}var H={name:"Layout",inheritAttrs:!1,props:{name:{type:String,default:"div",required:!0}},emits:["update:layout"],created(){this.$emit("update:layout",this.name)}};H.render=q;var P=H;const $={id:"auth"},J=Object(r["g"])("br",null,null,-1),R=Object(r["g"])("br",null,null,-1),G=Object(r["g"])("br",null,null,-1),M=Object(r["g"])("br",null,null,-1),V=Object(r["g"])("br",null,null,-1),B=Object(r["g"])("br",null,null,-1),W=Object(r["g"])("br",null,null,-1);function K(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",$,[Object(r["g"])("button",{onClick:t[1]||(t[1]=e=>o.fetchAuth())},"Fetch Auth"),J,Object(r["f"])(" Count: "+Object(r["A"])(o.count)+" ",1),R,Object(r["f"])(" Has Data: "+Object(r["A"])(o.hasData)+" ",1),G,Object(r["f"])(" Initialized: "+Object(r["A"])(o.initialized)+" ",1),M,Object(r["f"])(" Loading: "+Object(r["A"])(o.loading),1),V,Object(r["f"])(" Reloading: "+Object(r["A"])(o.reloading)+" ",1),B,Object(r["f"])(" In Error: "+Object(r["A"])(o.inError)+" ",1),W,Object(r["I"])(Object(r["g"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["A"])(JSON.stringify(o.auth,null,4)),513),[[r["F"],o.auth]]),Object(r["I"])(Object(r["g"])("pre",null,"There was an error!",512),[[r["F"],o.inError]]),Object(r["I"])(Object(r["g"])("pre",null,"There were "+Object(r["A"])(o.count)+" records found!",513),[[r["F"],o.hasData]]),Object(r["I"])(Object(r["g"])("pre",null,"reloading...",512),[[r["F"],o.reloading]])])}var X={name:"Auth",setup(){const e=Object(u["c"])();return{fetchAuth:()=>e.dispatch("auth/fetch"),count:Object(r["b"])(()=>e.getters["auth/count"]),auth:Object(r["b"])(()=>e.getters["auth/all"]),hasData:Object(r["b"])(()=>e.getters["auth/hasData"]),loading:Object(r["b"])(()=>e.getters["auth/loading"]),inError:Object(r["b"])(()=>e.getters["auth/inError"]),initialized:Object(r["b"])(()=>e.getters["auth/initialized"]),reloading:Object(r["b"])(()=>e.getters["auth/reloading"])}}};X.render=K;var Y=X;const Z={id:"country"},Q=Object(r["g"])("br",null,null,-1),ee=Object(r["g"])("br",null,null,-1),te=Object(r["g"])("br",null,null,-1),ne=Object(r["g"])("br",null,null,-1),re=Object(r["g"])("br",null,null,-1),oe=Object(r["g"])("br",null,null,-1),ae=Object(r["g"])("br",null,null,-1),ce=Object(r["g"])("br",null,null,-1),le=Object(r["g"])("br",null,null,-1),ue=Object(r["g"])("br",null,null,-1),ie=Object(r["g"])("br",null,null,-1);function se(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",Z,[Object(r["f"])(" Visibility: "+Object(r["A"])(o.visibility)+" ",1),Q,Object(r["g"])("button",{onClick:t[1]||(t[1]=e=>o.fetchCountries())},"Fetch Countries"),ee,Object(r["g"])("button",{onClick:t[2]||(t[2]=Object(r["J"])(e=>o.visibility="merica",["prevent"]))},"America First!"),te,Object(r["f"])(" Total Count: "+Object(r["A"])(o.count)+" ",1),ne,Object(r["f"])(" Filtered Count: "+Object(r["A"])(o.filteredCountries?o.filteredCountries.length:null)+" ",1),re,Object(r["f"])(" Has Data: "+Object(r["A"])(o.hasData)+" ",1),oe,Object(r["f"])(" Initialized: "+Object(r["A"])(o.initialized)+" ",1),ae,Object(r["f"])(" Loading: "+Object(r["A"])(o.loading),1),ce,Object(r["f"])(" Reloading: "+Object(r["A"])(o.reloading)+" ",1),le,Object(r["f"])(" In Error: "+Object(r["A"])(o.inError)+" ",1),ue,Object(r["I"])(Object(r["g"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["A"])(JSON.stringify(o.filteredCountries,null,4)),513),[[r["F"],o.filteredCountries]]),Object(r["I"])(Object(r["g"])("pre",null,"There was an error!",512),[[r["F"],o.inError]]),Object(r["I"])(Object(r["g"])("pre",null,"There were "+Object(r["A"])(o.count)+" records found!",513),[[r["F"],o.hasData]]),Object(r["I"])(Object(r["g"])("pre",null,"reloading...",512),[[r["F"],o.reloading]]),Object(r["I"])(Object(r["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.countryCode=e),type:"text"},null,512),[[r["E"],o.countryCode]]),Object(r["g"])("button",{onClick:t[4]||(t[4]=e=>o.visibility="lookup")},"Search Countries"),ie,Object(r["I"])(Object(r["g"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["A"])(JSON.stringify(o.lookupCountry,null,4)),513),[[r["F"],"lookup"===o.visibility]])])}const be={all:e=>e,merica:e=>e.filter(e=>"US"===e.countryCode),lookup:(e,t)=>e.filter(e=>e.countryCode===t)};var de={name:"Country",setup(){const e=Object(r["u"])("all"),t=Object(r["u"])(""),n=Object(u["c"])(),o=Object(r["b"])(()=>n.state.countries.data),a=Object(r["b"])(()=>be[e.value](o.value)),c=Object(r["b"])(()=>be[e.value](o.value,t.value));return{fetchCountries:()=>n.dispatch("countries/fetch"),count:Object(r["b"])(()=>n.getters["countries/count"]),filteredCountries:a,lookupCountry:c,hasData:Object(r["b"])(()=>n.getters["countries/hasData"]),inError:Object(r["b"])(()=>n.getters["countries/inError"]),initialized:Object(r["b"])(()=>n.getters["countries/initialized"]),loading:Object(r["b"])(()=>n.getters["countries/loading"]),reloading:Object(r["b"])(()=>n.getters["countries/reloading"]),visibility:e,countryCode:t}}};de.render=se;var Oe=de,pe={name:"ApiTester",components:{Auth:Y,Country:Oe,Layout:P}};pe.render=T;var je=pe;function ge(e,t,n,o,a,c){const l=Object(r["x"])("layout");return Object(r["p"])(),Object(r["d"])(l,null,{default:Object(r["H"])(()=>[Object(r["w"])(e.$slots,"default")]),_:3})}var fe={name:"AuthSuccess",components:{Layout:P},created(){window.document.body.style.display="none",window.opener&&(window.opener.open("/dashboard","_self"),window.opener.focus(),window.close())}};fe.render=ge;var me=fe;const he=Object(r["g"])("h1",null,"Welcome to the Dashboard",-1);function ve(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",null,[he])}var ye={name:"Dashboard"};ye.render=ve;var we=ye;function Ae(e,t,n,o,a,c){const l=Object(r["x"])("LoginForm"),u=Object(r["x"])("layout");return Object(r["p"])(),Object(r["d"])(u,{name:"LayoutDefault"},{default:Object(r["H"])(()=>[Object(r["g"])(l)]),_:1})}const Ce=Object(r["K"])("data-v-9add6d56");Object(r["s"])("data-v-9add6d56");const Ie={class:"login"},Se={class:"login__google-signin google-signin"},Ee=Object(r["g"])("span",{class:"google-signin__icon"},null,-1),xe=Object(r["g"])("span",{class:"google-signin__text"},"Login with Google",-1),_e=Object(r["g"])("a",{href:"/logout"},"Logout",-1),De=Object(r["g"])("label",null,"Dirty",-1),Fe={class:"form-input"},Ue={class:"form-input"};Object(r["q"])();const Le=Ce((e,t,n,o,a,c)=>{const l=Object(r["x"])("ui-input");return Object(r["p"])(),Object(r["d"])("div",Ie,[Object(r["g"])("div",Se,[Object(r["g"])("div",{class:"google-signin__btn",onClick:t[1]||(t[1]=e=>o.popup("/auth/google","google_login",500,500))},[Ee,xe])]),_e,De,Object(r["g"])("span",null,"Â "+Object(r["A"])(e.isDirty),1),Object(r["g"])("pre",null,Object(r["A"])(e.errors&&!e.isDirty?e.errors:""),1),Object(r["g"])("form",{class:"login-form",onSubmit:t[6]||(t[6]=Object(r["J"])((...e)=>o.loginUser&&o.loginUser(...e),["prevent"]))},[Object(r["g"])("div",Fe,[Object(r["g"])(l,{value:e.username,"onUpdate:value":t[2]||(t[2]=t=>e.username=t),errors:e.errors["username"],label:"Username",name:"username",type:"text",onInput:t[3]||(t[3]=e=>o.validate("username"))},null,8,["value","errors"])]),Object(r["g"])("div",Ue,[Object(r["g"])(l,{value:e.password,"onUpdate:value":t[4]||(t[4]=t=>e.password=t),errors:e.errors["password"],label:"Password",name:"password",type:"password",onInput:t[5]||(t[5]=e=>o.validate("password"))},null,8,["value","errors"])]),Object(r["g"])("input",{type:"submit",value:"Login",disabled:!e.isDirty},null,8,["disabled"])],32)])});var ke=n("506a");function ze(e,t,n,o,a,c){const l=Object(r["x"])("ui-error");return Object(r["p"])(),Object(r["d"])("label",null,[Object(r["f"])(Object(r["A"])(n.label)+" ",1),Object(r["I"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.input=e),autocomplete:"autocomplete ? 'on' : null",class:c.classes,name:n.name,type:n.type},null,10,["name","type"]),[[r["D"],o.input]]),n.errors?(Object(r["p"])(),Object(r["d"])(l,{key:0,errors:n.errors},null,8,["errors"])):Object(r["e"])("",!0)])}const Ne={key:0};function Te(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",null,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(n.errors,(e,t)=>(Object(r["p"])(),Object(r["d"])("ul",{key:t},[e?(Object(r["p"])(),Object(r["d"])("li",Ne,Object(r["A"])(e),1)):Object(r["e"])("",!0)]))),128))])}var qe={name:"UiError",props:{errors:{type:Array,default:()=>[],required:!1}}};qe.render=Te;var He=qe,Pe={name:"UiInput",components:{UiError:He},props:{autocomplete:{type:Boolean},errors:{type:[Array,String],default:"",required:!1},label:{type:String,default:"",required:!1},name:{type:String,required:!0},type:{type:String,default:"text",required:!0},value:{type:String}},emits:["update:value"],setup(e,{emit:t}){const n=Object(r["b"])({get:()=>e.value,set:e=>t("update:value",e)});return{input:n}},computed:{classes(){return{"ui-input":!0}}}};Pe.render=ze;var $e=Pe,Je={name:"LoginForm",components:{UiInput:$e},setup(){Object(u["c"])();const e=Object(r["t"])({username:"",password:"",isDirty:Object(r["b"])(()=>!(!e.username||!e.password)),errors:{}}),t=Object(ke["a"])({username:Object(ke["b"])().required(),password:Object(ke["b"])().required()});function n(n){t.validateAt(n,{username:Object(r["C"])(e.username),password:Object(r["C"])(e.password)}).then(()=>{console.log("need to clear",n),e.errors[n]=""}).catch(t=>{e.errors[n]=t.errors})}const o=(e,t,n,r,o=window)=>{const a=o.top.outerHeight/2+o.top.screenY-r/2,c=o.top.outerWidth/2+o.top.screenX-n/2,l=`rel=opener, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${n}, height=${r}, top=${a}, left=${c}`;o.open(e,t,l)};function a(){console.log("Logging In...")}return{popup:o,loginUser:a,validate:n,...Object(r["B"])(e)}}};n("9f33");Je.render=Le,Je.__scopeId="data-v-9add6d56";var Re=Je,Ge={name:"Login",components:{Layout:P,LoginForm:Re}};Ge.render=Ae;var Me=Ge;const Ve=Object(r["g"])("h1",null,"Not Found",-1);function Be(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",null,[Ve])}var We={name:"NotFound"};We.render=Be;var Ke=We;const Xe=N.dispatch("init"),Ye=Object(r["b"])(()=>N.getters["auth/loggedIn"]),Ze=[{path:"/",name:"home",component:je,props:!1},{path:"/login",name:"login",component:Me,meta:{guest:!0}},{path:"/dashboard",name:"dashboard",component:we,props:!0,meta:{requiresAuth:!0}},{path:"/success",name:"success",component:me,props:!0,meta:{}},{path:"/:catchAll(.*)",name:"notfound",component:Ke}],Qe=Object(l["a"])({history:Object(l["b"])(),routes:Ze});Qe.beforeEach((e,t,n)=>{Xe.then(n).catch(e=>console.log("Unable to initialize store",e))}),Qe.beforeEach((e,t,n)=>{e.matched.some(e=>e.meta.guest)?Ye.value?n({name:"dashboard"}):n():e.matched.some(e=>e.meta.requiresAuth)?Ye.value?n():n({name:"login"}):n()});var et=Qe;const tt={class:"p-4"},nt={class:"app-header"},rt={class:"container"};function ot(e,t,n,o,a,c){const l=Object(r["x"])("app-nav");return Object(r["p"])(),Object(r["d"])("div",tt,[Object(r["g"])("header",nt,[Object(r["g"])(l)]),Object(r["g"])("main",rt,[Object(r["w"])(e.$slots,"default")])])}function at(e,t,n,o,a,c){return Object(r["p"])(),Object(r["d"])("div",null,"I am nav!!!")}var ct={name:"AppNav",setup(){return{}}};ct.render=at;var lt=ct,ut={name:"LayoutDefault",components:{AppNav:lt}};ut.render=ot;var it=ut;const st=[it];var bt={install:(e,t)=>{st.forEach(t=>{e.component(t.name,t)})}};Object(r["c"])(c).use(N).use(et).use(bt).mount("#quizdini")},"9f33":function(e,t,n){"use strict";n("be9d")},bc43:function(e,t,n){"use strict";n("f50f")},be9d:function(e,t,n){},f50f:function(e,t,n){}});
//# sourceMappingURL=app.a52f6e03.js.map