(function(e){function t(t){for(var n,c,u=t[0],l=t[1],s=t[2],d=0,p=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);i&&i(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,u=1;u<a.length;u++){var l=a[u];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var i=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00ea":function(e,t,a){},2232:function(e,t){function a(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="2232"},"361e":function(e,t,a){"use strict";a("00ea")},"56d7":function(e,t,a){"use strict";a.r(t);a("a79d");var n=a("7a23");function o(e,t,a,o,r,c){const u=Object(n["v"])("router-view");return Object(n["o"])(),Object(n["c"])(Object(n["w"])(r.layout),null,{default:Object(n["B"])(()=>[Object(n["e"])(u,{layout:r.layout,"onUpdate:layout":t[1]||(t[1]=e=>r.layout=e)},null,8,["layout"])]),_:1})}var r={name:"App",data(){return{layout:"div"}}};a("bc43");r.render=o;var c=r,u=a("6c02");const l=[{path:"/",name:"Home",view:"Landing",meta:{navItem:!0},props:!1,webpackChunkName:"public"},{path:"/test",name:"Test",view:"Test",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/register",name:"Sign Up",view:"Register",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/login",name:"Login",view:"Login",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/success",name:"Success",view:"AuthSuccess",meta:{navItem:!1},props:!1,webpackChunkName:"public"},{path:"/dashboard",name:"Dashboard",view:"Dashboard",meta:{navItem:!0,auth:!0},props:!0,webpackChunkName:"member"},{path:"/:catchAll(.*)",name:"Not Found",view:"NotFound",meta:{navItem:!1},webpackChunkName:"public"}];var s=l,i=(a("ddb0"),a("5502"));const d=()=>({counter:0}),p={counter:e=>e.counter},m={setCounter({commit:e},t){e("setCounter",t)},resetCounter({commit:e}){e("setCounter",{counter:0})},updateCounter({commit:e}){e("incrementCounter")}},b={setCounter(e,t){e.counter=t.counter},incrementCounter(e){e.counter++}};var g={namespaced:!0,state:d,getters:p,actions:m,mutations:b},f=a("bc3a"),h=a.n(f);h.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;const v={timeout:3e4},O=async({url:e,config:t=v})=>{try{const a=await h.a.get(e,t);return{data:a.data,error:!1}}catch(a){return{data:a.response.data,error:!0}}},j="/api/current_user",y=()=>O({url:""+j}),C=async(e,{cb:t,types:a})=>{try{e.commit(a.PENDING);const{data:n,error:o}=await t();e.commit(o?a.FAILURE:a.SUCCESS,n)}catch(n){e.commit(a.FAILURE,n)}},I=e=>({FETCH:e+"_FETCH",SUCCESS:e+"_SUCCESS",FAILURE:e+"_FAILURE",PENDING:e+"_PENDING"}),_=I("AUTH"),w=I("COUNTRIES"),E=I("STATES"),N={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},k={data:N,error:null,failed:!1,loaded:!1,loading:!1},S=()=>k,T={accountType:e=>e.accountType,auth:e=>e.data,loggedIn:e=>e.data.loggedIn,credits:e=>e.data.credits,error:e=>e.error,failed:e=>e.failed,googlePicture:e=>e.googlePicture,loaded:e=>e.loaded,loading:e=>e.loading},U={[_.FETCH]:e=>C(e,{cb:()=>y(),types:_})},P={[_.PENDING](e){e.loading=!0},[_.SUCCESS](e,t){const{googleId:a,id:n=null}=t||{},o=n?{...t,accountType:a?"google":"local",loggedIn:!0}:N;e.data=o,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[_.FAILURE](e,t){e.data=N,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var F={namespaced:!0,state:S,getters:T,actions:U,mutations:P};a("13d5");const A="/api/countries",D=()=>O({url:""+A}),L={data:[],error:null,failed:!1,loaded:!1,loading:!1},x=()=>L,H={all:e=>e.data,options:e=>e.data.reduce((e,t)=>(e.push({key:t.countryId,value:t.countryCode,text:t.countryName}),e),[]),error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading},R={[w.FETCH]:e=>C(e,{cb:()=>D(),types:w})},G={[w.PENDING](e){e.loading=!0},[w.SUCCESS](e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[w.FAILURE](e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var z={namespaced:!0,state:x,getters:H,actions:R,mutations:G};const M="/api/states",$=()=>O({url:""+M}),q={data:[],error:null,failed:!1,loaded:!1,loading:!1},J=()=>q,B={all:e=>e.data,options:e=>e.data.reduce((e,t)=>(e.push({key:t.stateId,value:t.stateCode,text:t.stateName}),e),[]),error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading},Q={[E.FETCH]:e=>C(e,{cb:()=>$(),types:E})},Z={[E.PENDING](e){e.loading=!0},[E.SUCCESS](e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[E.FAILURE](e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var K={namespaced:!0,state:J,getters:B,actions:Q,mutations:Z};const V={async init({dispatch:e}){await e("auth/AUTH_FETCH")}};var W=V;const X=!1,Y=Object(i["b"])({plugins:[...X?[Object(i["a"])()]:[]],actions:W,modules:{test:g,auth:F,countries:z,states:K},strict:X});var ee=Y;let te,ae=e=>e;const ne=ee.dispatch("init"),oe=Object(n["a"])(()=>ee.getters["auth/loggedIn"]),re=Object(u["a"])({history:Object(u["b"])(),routes:s.map(e=>({...e,component:()=>a("2232")(`/* webpackChunkName: "${e.webpackChunkName}"*/`(te||(te=ae`../views/${0}.vue`),e.view))}))});re.beforeEach((e,t,a)=>{ne.then(a).catch(e=>console.log("Unable to initialize store",e))}),re.beforeEach((e,t,a)=>{e.matched.some(e=>e.meta.guest)?oe.value?a({name:"Dashboard"}):a():e.matched.some(e=>e.meta.auth)?oe.value?a():a({name:"Login"}):a()});var ce=re;const ue=Object(n["C"])("data-v-092b3d2c");Object(n["r"])("data-v-092b3d2c");const le={class:"app"},se={class:"app__header"},ie={class:"app__main"},de=Object(n["e"])("footer",{class:"app__footer"},"Â© Quizdini 2013-21",-1);Object(n["p"])();const pe=ue((e,t,a,o,r,c)=>{const u=Object(n["v"])("app-nav");return Object(n["o"])(),Object(n["c"])("div",le,[Object(n["e"])("header",se,[Object(n["e"])(u,{class:"app__nav"})]),Object(n["e"])("main",ie,[Object(n["u"])(e.$slots,"default")]),de])}),me={class:"nav"},be={key:0,class:"nav__item"},ge={key:1,href:"/logout",class:"nav__item",target:"_self"},fe={key:2,class:"nav__item badge"},he={key:3,class:"nav__item nav__item--lc"};function ve(e,t,a,o,r,c){const u=Object(n["v"])("NavItems");return Object(n["o"])(),Object(n["c"])("nav",me,[Object(n["e"])(u,{items:o.routes,authenticated:o.auth.loggedIn},null,8,["items","authenticated"]),o.auth.loggedIn&&o.auth.credits>=0?(Object(n["o"])(),Object(n["c"])("span",be,"Credits: "+Object(n["y"])(o.auth.credits),1)):Object(n["d"])("",!0),o.auth.loggedIn?(Object(n["o"])(),Object(n["c"])("a",ge,"logout")):Object(n["d"])("",!0),o.auth.loggedIn&&"google"===o.auth.accountType?(Object(n["o"])(),Object(n["c"])("span",fe,["google"===o.auth.accountType?(Object(n["o"])(),Object(n["c"])("img",{key:0,src:o.auth.googlePicture,class:"badge--google"},null,8,["src"])):Object(n["d"])("",!0)])):Object(n["d"])("",!0),o.auth.loggedIn&&"local"===o.auth.accountType?(Object(n["o"])(),Object(n["c"])("span",he,Object(n["y"])(o.auth.username),1)):Object(n["d"])("",!0)])}function Oe(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(n["j"])(e)}const je=({items:e,authenticated:t})=>e.filter(e=>{const{meta:{navItem:a=!1,auth:n=!1,guest:o=!1}={}}=e;return!!a&&(t?n||!o:!n)}).map(e=>{const{name:t}=e;return Object(n["e"])(Object(n["v"])("router-link"),{class:"nav__item",to:{name:t},key:t},Oe(t)?t:{default:()=>[t]})});var ye={name:"AppNav",components:{NavItems:je},setup(){const e=Object(i["c"])(),t=Object(n["a"])(()=>e.getters["auth/auth"]);return{auth:t,routes:s}}};a("9fc1");ye.render=ve;var Ce=ye,Ie={name:"LayoutDefault",components:{AppNav:Ce}};a("361e");Ie.render=pe,Ie.__scopeId="data-v-092b3d2c";var _e=Ie;const we=[_e];var Ee={install:(e,t)=>{we.forEach(t=>{e.component(t.name,t)})}};Object(n["b"])(c).use(ee).use(ce).use(Ee).mount("#quizdini")},"9fc1":function(e,t,a){"use strict";a("ea6e")},bc43:function(e,t,a){"use strict";a("f50f")},ea6e:function(e,t,a){},f50f:function(e,t,a){}});
//# sourceMappingURL=app.ddf1da7d.js.map