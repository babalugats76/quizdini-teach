(function(e){function t(t){for(var r,a,o=t[0],i=t[1],d=t[2],s=0,l=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&l.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(l.length)l.shift()();return u.push.apply(u,d||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c={app:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"-legacy."+{"chunk-2d0c5afd":"b48e362f","chunk-2d0d63f1":"8e3f926f","chunk-2d0e5e97":"f10f1eec","chunk-2d21b4fa":"9aa98db8","chunk-55c33d45":"ca62cbf4","chunk-2d0d6d35":"3251146c","chunk-2d0d7fc5":"f902ddb2","chunk-2d2086b7":"a9403c3b"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-55c33d45":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d0c5afd":"31d6cfe0","chunk-2d0d63f1":"31d6cfe0","chunk-2d0e5e97":"31d6cfe0","chunk-2d21b4fa":"31d6cfe0","chunk-55c33d45":"d3547520","chunk-2d0d6d35":"31d6cfe0","chunk-2d0d7fc5":"31d6cfe0","chunk-2d2086b7":"31d6cfe0"}[e]+".css",c=i.p+r,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var d=u[o],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===r||s===c))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){d=l[o],s=d.getAttribute("data-href");if(s===r||s===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],f.parentNode.removeChild(f),n(u)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=u);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=o(e);var l=new Error;d=function(t){s.onerror=s.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}c[e]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var f=s;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00ea":function(e,t,n){},"1a5d":function(e,t,n){var r={"./AuthSuccess.vue":["3fc7","chunk-2d0c5afd"],"./Dashboard.vue":["7277","chunk-2d0d63f1"],"./Landing.vue":["bede","chunk-2d21b4fa"],"./Login.vue":["a55b","chunk-55c33d45","chunk-2d2086b7"],"./NotFound.vue":["9703","chunk-2d0e5e97"],"./Register.vue":["73cf","chunk-55c33d45","chunk-2d0d6d35"],"./Test.vue":["78c1","chunk-55c33d45","chunk-2d0d7fc5"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="1a5d",e.exports=a},"1c1e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));n("96cf");var r=n("1da1"),a=n("bc3a"),c=n.n(a);c.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var u={timeout:3e4},o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,r=t.config,a=void 0===r?u:r,e.prev=1,e.next=4,c.a.get(n,a);case 4:return o=e.sent,e.abrupt("return",{data:o.data,error:!1});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{data:e.t0.response.data,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,a=t.config,o=void 0===a?u:a,e.prev=1,e.next=4,c.a.post(n,r,o);case 4:return i=e.sent,e.abrupt("return",{data:i.data,error:!1});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{data:e.t0.response.data,error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},"361e":function(e,t,n){"use strict";n("00ea")},3786:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n("1c1e"),a="/api/current_user",c="/auth/local",u=function(){return Object(r["a"])({url:"".concat(a)})},o=function(e){return Object(r["b"])({url:"".concat(c),data:e})}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,c,u){var o=Object(r["A"])("router-view");return Object(r["s"])(),Object(r["d"])(Object(r["B"])(c.layout),null,{default:Object(r["J"])((function(){return[Object(r["g"])(o,{layout:c.layout,"onUpdate:layout":t[1]||(t[1]=function(e){return c.layout=e})},null,8,["layout"])]})),_:1})}var c={name:"App",data:function(){return{layout:"div"}}};n("bc43");c.render=a;var u,o,i,d=c,s=(n("d81d"),n("45fc"),n("d3b7"),n("5530")),l=n("6c02"),f=[{path:"/",name:"Home",view:"Landing",meta:{navItem:!0},props:!1,webpackChunkName:"public"},{path:"/test",name:"Test",view:"Test",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/register",name:"Sign Up",view:"Register",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/login",name:"Login",view:"Login",meta:{navItem:!0,guest:!0},props:!0,webpackChunkName:"public"},{path:"/success",name:"Success",view:"AuthSuccess",meta:{navItem:!1},props:!1,webpackChunkName:"public"},{path:"/dashboard",name:"Dashboard",view:"Dashboard",meta:{navItem:!0,auth:!0},props:!0,webpackChunkName:"member"},{path:"/:catchAll(.*)",name:"Not Found",view:"NotFound",meta:{navItem:!1},webpackChunkName:"public"}],p=f,b=n("2909"),m=n("5502"),h=function(){return{counter:0}},g={counter:function(e){return e.counter}},v={setCounter:function(e,t){var n=e.commit;n("setCounter",t)},resetCounter:function(e){var t=e.commit;t("setCounter",{counter:0})},updateCounter:function(e){var t=e.commit;t("incrementCounter")}},O={setCounter:function(e,t){e.counter=t.counter},incrementCounter:function(e){e.counter++}},j={namespaced:!0,state:h,getters:g,actions:v,mutations:O},y=n("ade3"),k=n("3786"),w=(n("96cf"),n("1da1")),C=function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,c,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.cb,a=n.types,e.prev=1,t.commit(a.PENDING),e.next=5,r();case 5:c=e.sent,u=c.data,o=c.error,t.commit(o?a.FAILURE:a.SUCCESS,u),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.commit(a.FAILURE,e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),E=n("6e87"),_={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},I={data:_,error:null,failed:!1,loaded:!1,loading:!1},N=function(){return I},S={accountType:function(e){return e.accountType},auth:function(e){return e.data},loggedIn:function(e){return e.data.loggedIn},credits:function(e){return e.data.credits},error:function(e){return e.error},failed:function(e){return e.failed},googlePicture:function(e){return e.googlePicture},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},T=Object(y["a"])({},E["a"].FETCH,(function(e){return C(e,{cb:function(){return Object(k["a"])()},types:E["a"]})})),A=(u={},Object(y["a"])(u,E["a"].PENDING,(function(e){e.loading=!0})),Object(y["a"])(u,E["a"].SUCCESS,(function(e,t){var n=t||{},r=n.googleId,a=n.id,c=void 0===a?null:a,u=c?Object(s["a"])(Object(s["a"])({},t),{},{accountType:r?"google":"local",loggedIn:!0}):_;e.data=u,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(y["a"])(u,E["a"].FAILURE,(function(e,t){e.data=_,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),u),P={namespaced:!0,state:N,getters:S,actions:T,mutations:A},U=(n("13d5"),n("1c1e")),L="/api/countries",x=function(){return Object(U["a"])({url:"".concat(L)})},F={data:[],error:null,failed:!1,loaded:!1,loading:!1},D=function(){return F},R={all:function(e){return e.data},options:function(e){return e.data.reduce((function(e,t){return e.push({key:t.countryId,value:t.countryCode,text:t.countryName}),e}),[])},error:function(e){return e.error},failed:function(e){return e.failed},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},H=Object(y["a"])({},E["b"].FETCH,(function(e){return C(e,{cb:function(){return x()},types:E["b"]})})),z=(o={},Object(y["a"])(o,E["b"].PENDING,(function(e){e.loading=!0})),Object(y["a"])(o,E["b"].SUCCESS,(function(e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(y["a"])(o,E["b"].FAILURE,(function(e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),o),G={namespaced:!0,state:D,getters:R,actions:H,mutations:z},M="/api/states",q=function(){return Object(U["a"])({url:"".concat(M)})},B={data:[],error:null,failed:!1,loaded:!1,loading:!1},J=function(){return B},K={all:function(e){return e.data},options:function(e){return e.data.reduce((function(e,t){return e.push({key:t.stateId,value:t.stateCode,text:t.stateName}),e}),[])},error:function(e){return e.error},failed:function(e){return e.failed},loaded:function(e){return e.loaded},loading:function(e){return e.loading}},Q=Object(y["a"])({},E["c"].FETCH,(function(e){return C(e,{cb:function(){return q()},types:E["c"]})})),Z=(i={},Object(y["a"])(i,E["c"].PENDING,(function(e){e.loading=!0})),Object(y["a"])(i,E["c"].SUCCESS,(function(e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1})),Object(y["a"])(i,E["c"].FAILURE,(function(e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1})),i),$={namespaced:!0,state:J,getters:K,actions:Q,mutations:Z},V={init:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("auth/AUTH_FETCH");case 3:case"end":return t.stop()}}),t)})))()}},W=V,X=!1,Y=Object(m["b"])({plugins:Object(b["a"])(X?[Object(m["a"])()]:[]),actions:W,modules:{test:j,auth:P,countries:G,states:$},strict:X}),ee=Y,te=ee.dispatch("init"),ne=Object(r["b"])((function(){return ee.getters["auth/loggedIn"]})),re=Object(l["a"])({history:Object(l["b"])(),routes:p.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{component:function(){return n("1a5d")("./".concat(e.view,".vue"))}})}))});re.beforeEach((function(e,t,n){te.then(n).catch((function(e){return console.log("Unable to initialize store",e)}))})),re.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.guest}))?ne.value?n({name:"Dashboard"}):n():e.matched.some((function(e){return e.meta.auth}))?ne.value?n():n({name:"Login"}):n()}));var ae=re,ce=(n("4160"),n("b0c0"),n("159b"),Object(r["M"])("data-v-092b3d2c"));Object(r["v"])("data-v-092b3d2c");var ue={class:"app"},oe={class:"app__header"},ie={class:"app__main"},de=Object(r["g"])("footer",{class:"app__footer"},"© Quizdini 2013-21",-1);Object(r["t"])();var se=ce((function(e,t,n,a,c,u){var o=Object(r["A"])("app-nav");return Object(r["s"])(),Object(r["d"])("div",ue,[Object(r["g"])("header",oe,[Object(r["g"])(o,{class:"app__nav"})]),Object(r["g"])("main",ie,[Object(r["z"])(e.$slots,"default")]),de])})),le={class:"nav"},fe={key:0,class:"nav__item"},pe={key:1,href:"/logout",class:"nav__item",target:"_self"},be={key:2,class:"nav__item badge"},me={key:3,class:"nav__item nav__item--lc"};function he(e,t,n,a,c,u){var o=Object(r["A"])("NavItems");return Object(r["s"])(),Object(r["d"])("nav",le,[Object(r["g"])(o,{items:a.routes,authenticated:a.auth.loggedIn},null,8,["items","authenticated"]),a.auth.loggedIn&&a.auth.credits>=0?(Object(r["s"])(),Object(r["d"])("span",fe,"Credits: "+Object(r["D"])(a.auth.credits),1)):Object(r["e"])("",!0),a.auth.loggedIn?(Object(r["s"])(),Object(r["d"])("a",pe,"logout")):Object(r["e"])("",!0),a.auth.loggedIn&&"google"===a.auth.accountType?(Object(r["s"])(),Object(r["d"])("span",be,["google"===a.auth.accountType?(Object(r["s"])(),Object(r["d"])("img",{key:0,src:a.auth.googlePicture,class:"badge--google"},null,8,["src"])):Object(r["e"])("",!0)])):Object(r["e"])("",!0),a.auth.loggedIn&&"local"===a.auth.accountType?(Object(r["s"])(),Object(r["d"])("span",me,Object(r["D"])(a.auth.username),1)):Object(r["e"])("",!0)])}n("4de4"),n("25f0");function ge(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(r["l"])(e)}var ve=function(e){var t=e.items,n=e.authenticated;return t.filter((function(e){var t=e.meta;t=void 0===t?{}:t;var r=t.navItem,a=void 0!==r&&r,c=t.auth,u=void 0!==c&&c,o=t.guest,i=void 0!==o&&o;return!!a&&(n?u||!i:!u)})).map((function(e){var t=e.name;return Object(r["g"])(Object(r["A"])("router-link"),{class:"nav__item",to:{name:t},key:t},ge(t)?t:{default:function(){return[t]}})}))},Oe={name:"AppNav",components:{NavItems:ve},setup:function(){var e=Object(m["c"])(),t=Object(r["b"])((function(){return e.getters["auth/auth"]}));return{auth:t,routes:p}}};n("9fc1");Oe.render=he;var je=Oe,ye={name:"LayoutDefault",components:{AppNav:je}};n("361e");ye.render=se,ye.__scopeId="data-v-092b3d2c";var ke=ye,we=[ke],Ce={install:function(e,t){we.forEach((function(t){e.component(t.name,t)}))}};Object(r["c"])(d).use(ee).use(ae).use(Ce).mount("#quizdini")},"6e87":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=function(e){return{FETCH:"".concat(e,"_FETCH"),SUCCESS:"".concat(e,"_SUCCESS"),FAILURE:"".concat(e,"_FAILURE"),PENDING:"".concat(e,"_PENDING")}},a=r("AUTH"),c=r("COUNTRIES"),u=r("STATES")},"9fc1":function(e,t,n){"use strict";n("ea6e")},bc43:function(e,t,n){"use strict";n("f50f")},ea6e:function(e,t,n){},f50f:function(e,t,n){}});
//# sourceMappingURL=app-legacy.45bb06eb.js.map