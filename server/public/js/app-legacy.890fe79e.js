(function(e){function t(t){for(var r,o,c=t[0],i=t[1],l=t[2],d=0,b=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(u,o)&&u[o]&&b.push(u[o][0]),u[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(t);while(b.length)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==u[i]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},u={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=i;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function u(e,t,n,u,a,o){var c=Object(r["r"])("router-view");return Object(r["n"])(),Object(r["c"])(c)}var a={name:"App"};n("8874");a.render=u;var o=a,c=(n("45fc"),n("6c02"));function i(e,t,n,u,a,o){var c=Object(r["r"])("Login"),i=Object(r["r"])("Auth"),l=Object(r["r"])("Country");return Object(r["n"])(),Object(r["c"])("div",null,[Object(r["e"])(c),Object(r["e"])(i),Object(r["e"])(l)])}var l={id:"auth"},s=Object(r["e"])("br",null,null,-1),d=Object(r["e"])("br",null,null,-1),b=Object(r["e"])("br",null,null,-1),f=Object(r["e"])("br",null,null,-1),O=Object(r["e"])("br",null,null,-1),j=Object(r["e"])("br",null,null,-1),p=Object(r["e"])("br",null,null,-1);function g(e,t,n,u,a,o){return Object(r["n"])(),Object(r["c"])("div",l,[Object(r["e"])("button",{onClick:t[1]||(t[1]=function(e){return u.fetchAuth()})},"Fetch Auth"),s,Object(r["d"])(" Count: "+Object(r["t"])(u.count)+" ",1),d,Object(r["d"])(" Has Data: "+Object(r["t"])(u.hasData)+" ",1),b,Object(r["d"])(" Initialized: "+Object(r["t"])(u.initialized)+" ",1),f,Object(r["d"])(" Loading: "+Object(r["t"])(u.loading),1),O,Object(r["d"])(" Reloading: "+Object(r["t"])(u.reloading)+" ",1),j,Object(r["d"])(" In Error: "+Object(r["t"])(u.inError)+" ",1),p,Object(r["z"])(Object(r["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["t"])(JSON.stringify(u.auth,null,4)),513),[[r["x"],u.auth]]),Object(r["z"])(Object(r["e"])("pre",null,"There was an error!",512),[[r["x"],u.inError]]),Object(r["z"])(Object(r["e"])("pre",null,"There were "+Object(r["t"])(u.count)+" records found!",513),[[r["x"],u.hasData]]),Object(r["z"])(Object(r["e"])("pre",null,"reloading...",512),[[r["x"],u.reloading]])])}var h=n("5502"),m={setup:function(){var e=Object(h["c"])();return{fetchAuth:function(){return e.dispatch("auth/fetch")},count:Object(r["a"])((function(){return e.getters["auth/count"]})),auth:Object(r["a"])((function(){return e.getters["auth/all"]})),hasData:Object(r["a"])((function(){return e.getters["auth/hasData"]})),loading:Object(r["a"])((function(){return e.getters["auth/loading"]})),inError:Object(r["a"])((function(){return e.getters["auth/inError"]})),initialized:Object(r["a"])((function(){return e.getters["auth/initialized"]})),reloading:Object(r["a"])((function(){return e.getters["auth/reloading"]}))}}};m.render=g;var v=m,y={id:"country"},w=Object(r["e"])("br",null,null,-1),x=Object(r["e"])("br",null,null,-1),C=Object(r["e"])("br",null,null,-1),z=Object(r["e"])("br",null,null,-1),I=Object(r["e"])("br",null,null,-1),S=Object(r["e"])("br",null,null,-1),k=Object(r["e"])("br",null,null,-1),A=Object(r["e"])("br",null,null,-1),D=Object(r["e"])("br",null,null,-1),R=Object(r["e"])("br",null,null,-1),E=Object(r["e"])("br",null,null,-1);function L(e,t,n,u,a,o){return Object(r["n"])(),Object(r["c"])("div",y,[Object(r["d"])(" Visibility: "+Object(r["t"])(u.visibility)+" ",1),w,Object(r["e"])("button",{onClick:t[1]||(t[1]=function(e){return u.fetchCountries()})},"Fetch Countries"),x,Object(r["e"])("button",{onClick:t[2]||(t[2]=Object(r["A"])((function(e){return u.visibility="merica"}),["prevent"]))},"America First!"),C,Object(r["d"])(" Total Count: "+Object(r["t"])(u.count)+" ",1),z,Object(r["d"])(" Filtered Count: "+Object(r["t"])(u.filteredCountries?u.filteredCountries.length:null)+" ",1),I,Object(r["d"])(" Has Data: "+Object(r["t"])(u.hasData)+" ",1),S,Object(r["d"])(" Initialized: "+Object(r["t"])(u.initialized)+" ",1),k,Object(r["d"])(" Loading: "+Object(r["t"])(u.loading),1),A,Object(r["d"])(" Reloading: "+Object(r["t"])(u.reloading)+" ",1),D,Object(r["d"])(" In Error: "+Object(r["t"])(u.inError)+" ",1),R,Object(r["z"])(Object(r["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["t"])(JSON.stringify(u.filteredCountries,null,4)),513),[[r["x"],u.filteredCountries]]),Object(r["z"])(Object(r["e"])("pre",null,"There was an error!",512),[[r["x"],u.inError]]),Object(r["z"])(Object(r["e"])("pre",null,"There were "+Object(r["t"])(u.count)+" records found!",513),[[r["x"],u.hasData]]),Object(r["z"])(Object(r["e"])("pre",null,"reloading...",512),[[r["x"],u.reloading]]),Object(r["z"])(Object(r["e"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return u.countryCode=e})},null,512),[[r["w"],u.countryCode]]),Object(r["e"])("button",{onClick:t[4]||(t[4]=function(e){return u.visibility="lookup"})},"Search Countries"),E,Object(r["z"])(Object(r["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(r["t"])(JSON.stringify(u.lookupCountry,null,4)),513),[[r["x"],"lookup"===u.visibility]])])}n("4de4");var T={all:function(e){return e},merica:function(e){return e.filter((function(e){return"US"===e.countryCode}))},lookup:function(e,t){return e.filter((function(e){return e.countryCode===t}))}},q={name:"Country",setup:function(){var e=Object(r["q"])("all"),t=Object(r["q"])(""),n=Object(h["c"])(),u=Object(r["a"])((function(){return n.state.countries.data})),a=Object(r["a"])((function(){return T[e.value](u.value)})),o=Object(r["a"])((function(){return T[e.value](u.value,t.value)}));return{fetchCountries:function(){return n.dispatch("countries/fetch")},count:Object(r["a"])((function(){return n.getters["countries/count"]})),filteredCountries:a,lookupCountry:o,hasData:Object(r["a"])((function(){return n.getters["countries/hasData"]})),inError:Object(r["a"])((function(){return n.getters["countries/inError"]})),initialized:Object(r["a"])((function(){return n.getters["countries/initialized"]})),loading:Object(r["a"])((function(){return n.getters["countries/loading"]})),reloading:Object(r["a"])((function(){return n.getters["countries/reloading"]})),visibility:e,countryCode:t}}};q.render=L;var P=q,N={id:"login"},U=Object(r["e"])("label",null,"Logged In",-1),F=Object(r["e"])("br",null,null,-1),_=Object(r["e"])("a",{href:"/api/logout"},"Logout",-1),H={class:"form-input"},J=Object(r["e"])("label",null,"Username:",-1),G={class:"form-input"},M=Object(r["e"])("label",null,"Password:",-1);function V(e,t,n,u,a,o){return Object(r["n"])(),Object(r["c"])("div",N,[U,Object(r["d"])(" "+Object(r["t"])(u.loggedIn),1),F,_,Object(r["d"])(" "+Object(r["t"])(u.error&&!u.isDirty?u.error:"")+" ",1),Object(r["e"])("div",H,[J,Object(r["z"])(Object(r["e"])("input",{type:"text",name:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.username=e})},null,512),[[r["w"],u.username]])]),Object(r["e"])("div",G,[M,Object(r["z"])(Object(r["e"])("input",{type:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return u.password=e})},null,512),[[r["w"],u.password]])]),Object(r["e"])("button",{onClick:t[3]||(t[3]=Object(r["A"])((function(e){return u.toggleLogin^=!0}),["prevent"])),disabled:u.loading||!u.isDirty},Object(r["t"])(u.loading?"Loading...":"Login"),9,["disabled"])])}n("96cf");var W=n("1da1"),Z=n("bc3a"),B=n.n(Z);B.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var K={timeout:3e4},Q=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,u,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,r=t.config,u=void 0===r?K:r,e.prev=1,e.next=4,B.a.get(n,u);case 4:return a=e.sent,e.abrupt("return",{data:a.data});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{error:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r,u,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,u=t.config,a=void 0===u?K:u,e.prev=1,e.next=4,B.a.post(n,r,a);case 4:return o=e.sent,e.abrupt("return",{data:o.data});case 8:return e.prev=8,e.t0=e["catch"](1),e.abrupt("return",{error:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Y="/api/current_user",$="/auth/local",ee=function(){return Q({url:"".concat(Y)})},te=function(e){return X({url:"".concat($),data:e})},ne=n("5530");function re(e){var t=e.callback,n=e.immediate,u=void 0===n||n,a=e.deps,o=void 0===a?[]:a,c=Object(r["p"])({data:null,error:null,executions:0,failed:!1,initialized:!1,loaded:!1,loading:!1});return Object(r["y"])(o,Object(W["a"])(regeneratorRuntime.mark((function e(){var n,r,u,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.loading=!0,e.next=3,t();case 3:n=e.sent,r=n.data,u=void 0===r?null:r,a=n.error,o=void 0===a?null:a,c.data=u,c.error=o,c.executions+=1,c.initialized=!!c.executions,u&&(c.loaded=!0,c.failed=!1),o&&(c.loaded=!1,c.failed=!0),c.loading=!1;case 12:case"end":return e.stop()}}),e)}))),{immediate:u}),Object(ne["a"])({},Object(r["u"])(c))}var ue={setup:function(){var e=Object(h["c"])(),t=Object(c["c"])(),n=Object(r["a"])((function(){return e.state.auth.data.loggedIn})),u=Object(r["q"])(""),a=Object(r["q"])(""),o=Object(r["q"])(0),i=Object(r["a"])((function(){return!(!u.value&&!a.value)})),l=re({callback:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,te({username:u.value,password:a.value});case 2:return t=e.sent,u.value="",a.value="",e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),immediate:!1,deps:[o]}),s=l.data,d=l.error,b=l.failed,f=l.loading,O=l.loaded;return Object(r["y"])(O,(function(){return O&&e.dispatch("auth/fetch")})),e.watch((function(e){return e.auth.data.loggedIn}),(function(){console.log("state watcher fired!"),t.push({name:"dashboard"})})),{results:s,error:d,failed:b,loaded:O,loading:f,username:u,password:a,toggleLogin:o,isDirty:i,loggedIn:n}}};ue.render=V;var ae=ue,oe={name:"ApiTester",components:{Auth:v,Country:P,Login:ae}};oe.render=i;var ce=oe,ie=Object(r["e"])("h1",null,"Welcome to the Dashboard",-1);function le(e,t,n,u,a,o){return Object(r["n"])(),Object(r["c"])("div",null,[ie])}var se={};se.render=le;var de=se,be=(n("99af"),n("2909")),fe=function(){return{counter:0}},Oe={counter:function(e){return e.counter}},je={setCounter:function(e,t){var n=e.commit;n("setCounter",t)},resetCounter:function(e){var t=e.commit;t("setCounter",{counter:0})},updateCounter:function(e){var t=e.commit;t("incrementCounter")}},pe={setCounter:function(e,t){e.counter=t.counter},incrementCounter:function(e){e.counter++}},ge={namespaced:!0,state:fe,getters:Oe,actions:je,mutations:pe},he=(n("a15b"),n("fb6a"),n("ac1f"),n("1276"),n("4f96")),me={INIT:0,LOADING:1,FAILURE:2,SUCCESS:3},ve={status:me.INIT,data:null,error:null},ye={all:function(e){return e.data},count:function(e){return Array.isArray(e.data)?e.data.length:e.data?+!!e.data:null},hasData:function(e){return!!e.data},initialized:function(e){return!!e.data||!!e.error},inError:function(e){return!!e.error},loading:function(e){return e.status===me.LOADING},reloading:function(e){return e.status===me.LOADING&&(!!e.data||!!e.error)}},we={load:function(){},process:function(){},setStatus:function(e,t){e.status=t}},xe=function(e){e.subscribe((function(t){var n=t.payload,r=t.type.split("/").reverse(),u=Object(he["a"])(r),a=u[0],o=u.slice(1),c=o?o.join("/"):"",i=function(e){return"".concat(c).concat(c?"/":"").concat(e)};"load"===a&&e.commit(i("setStatus"),me.LOADING),"process"===a&&(Object.prototype.hasOwnProperty.call(t.payload,"error")?(e.commit(i("failure"),n),e.commit(i("setStatus"),me.FAILURE)):(e.commit(i("success"),n),e.commit(i("setStatus"),me.SUCCESS)))}))},Ce={accountType:null,credits:null,googlePicture:null,error:null,loggedIn:!1,username:null},ze=ve.error,Ie=ve.status,Se=function(){return{data:Ce,error:ze,status:Ie}},ke=Object(ne["a"])({auth:function(e){return e.data}},ye),Ae={fetch:function(e){return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("load"),t.t0=n,t.next=5,ee();case 5:t.t1=t.sent,(0,t.t0)("process",t.t1);case 7:case"end":return t.stop()}}),t)})))()}},De=Object(ne["a"])(Object(ne["a"])({},we),{},{success:function(e,t){var n=t.data,r=n||{},u=r.googleId,a=r.id,o=void 0===a?null:a,c=o?Object(ne["a"])(Object(ne["a"])({},n),{},{accountType:u?"google":"local",loggedIn:!0}):Ce;e.data=c,e.error=null},failure:function(e,t){var n=t.error;e.error=n,e.data=null}}),Re={namespaced:!0,state:Se,getters:ke,actions:Ae,mutations:De},Ee="/api/countries",Le=function(){return Q({url:"".concat(Ee)})},Te=function(){return Object(ne["a"])({},ve)},qe=Object(ne["a"])({},ye),Pe={fetch:function(e){return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("load"),t.t0=n,t.next=5,Le();case 5:t.t1=t.sent,(0,t.t0)("process",t.t1);case 7:case"end":return t.stop()}}),t)})))()}},Ne=Object(ne["a"])(Object(ne["a"])({},we),{},{success:function(e,t){var n=t.data;e.data=n,e.error=null},failure:function(e,t){var n=t.error;e.error=n,e.data=null}}),Ue={namespaced:!0,state:Te,getters:qe,actions:Pe,mutations:Ne},Fe={init:function(e){return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("auth/fetch");case 3:case"end":return t.stop()}}),t)})))()}},_e=Fe,He=!1,Je=Object(h["b"])({plugins:[].concat(Object(be["a"])(He?[Object(h["a"])()]:[]),[xe]),actions:_e,modules:{test:ge,auth:Re,countries:Ue},strict:He}),Ge=Je,Me=Ge.dispatch("init"),Ve=Object(r["a"])((function(){return Ge.state.auth.data.loggedIn})),We=[{path:"/login",name:"login",component:ae,meta:{guest:!0}},{path:"/logout",redirect:"/api/logout"},{path:"/",name:"apitester",component:ce,props:!1},{path:"/api/logout",name:"logout"},{path:"/dashboard",name:"dashboard",component:de,meta:{requiresAuth:!0}}],Ze=Object(c["a"])({history:Object(c["b"])(),routes:We});Ze.beforeEach((function(e,t,n){console.log("initialization happens here..."),Me.then(n).catch((function(e){return console.log("unable to initialize store",e)}))})),Ze.beforeEach((function(e,t,n){console.log("is authenticated",Ve.value),e.matched.some((function(e){return e.meta.guest}))?(console.log("route is guest only"),Ve.value?(console.log("user is authenticated, i.e., not allowed"),n(!1)):(console.log("user not authenticated"),n())):e.matched.some((function(e){return e.meta.requiresAuth}))?(console.log("route requires to be authenticated"),Ve.value?(console.log("user is authenticated, i.e., allowed"),n()):n(!1)):(console.log("not a protected route; proceed"),n())}));var Be=Ze;Object(r["b"])(o).use(Ge).use(Be).mount("#quizdini")},8874:function(e,t,n){"use strict";n("e906")},e906:function(e,t,n){}});
//# sourceMappingURL=app-legacy.890fe79e.js.map