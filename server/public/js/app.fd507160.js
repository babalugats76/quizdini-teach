(function(e){function t(t){for(var a,c,l=t[0],u=t[1],i=t[2],d=0,b=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);s&&s(t);while(b.length)b.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("a79d");var a=n("7a23");function o(e,t,n,o,r,c){const l=Object(a["u"])("router-view");return Object(a["n"])(),Object(a["c"])(Object(a["v"])(r.layout),null,{default:Object(a["D"])(()=>[Object(a["e"])(l,{layout:r.layout,"onUpdate:layout":t[1]||(t[1]=e=>r.layout=e)},null,8,["layout"])]),_:1})}const r={class:"p-4"},c={class:"app-header"},l={class:"container"};function u(e,t,n,o,u,i){const s=Object(a["u"])("app-nav");return Object(a["n"])(),Object(a["c"])("div",r,[Object(a["e"])("header",c,[Object(a["e"])(s)]),Object(a["e"])("main",l,[Object(a["t"])(e.$slots,"default")])])}function i(e,t,n,o,r,c){return Object(a["n"])(),Object(a["c"])("div",null,"I am nav!!!")}var s={name:"AppNav",setup(){return{}}};s.render=i;var d=s,b={name:"LayoutDefault",components:{AppNav:d}};b.render=u;var O=b,j={name:"App",components:{LayoutDefault:O},data(){return{layout:"div"}}};n("c9ea");j.render=o;var p=j,g=n("6c02"),h=(n("ddb0"),n("5502"));const m=()=>({counter:0}),f={counter:e=>e.counter},v={setCounter({commit:e},t){e("setCounter",t)},resetCounter({commit:e}){e("setCounter",{counter:0})},updateCounter({commit:e}){e("incrementCounter")}},y={setCounter(e,t){e.counter=t.counter},incrementCounter(e){e.counter++}};var w={namespaced:!0,state:m,getters:f,actions:v,mutations:y},C=n("bc3a"),x=n.n(C);x.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;const E={timeout:3e4},I=async({url:e,config:t=E})=>{try{const n=await x.a.get(e,t);return{data:n.data,error:!1}}catch(n){return{data:n.response.data,error:!0}}},D=async({url:e,data:t,config:n=E})=>{try{const a=await x.a.post(e,t,n);return{data:a.data,error:!1}}catch(a){return{data:a.response.data,error:!0}}},S="/api/current_user",_="/auth/local",A=()=>I({url:""+S}),L=e=>D({url:""+_,data:e}),z=e=>({FETCH:e+"_FETCH",SUCCESS:e+"_SUCCESS",FAILURE:e+"_FAILURE",PENDING:e+"_PENDING"}),N=z("AUTH"),U="TOGGLE_LOADING",k={error:null,loading:!1},F={failed:e=>!!e.error,loading:e=>e.loading},T={[U](e,t){e.loading=t}},P=async(e,{cb:t,types:n})=>{try{e.commit(n.PENDING);const{data:a,error:o}=await t();e.commit(o?n.FAILURE:n.SUCCESS,a)}catch(a){e.commit(n.FAILURE,a)}},$={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},B={data:$,error:null,failed:!1,loaded:!1,loading:!1},G=()=>B,H={auth:e=>e.data,error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading,loggedIn:e=>e.data.loggedIn},R={fetch:e=>P(e,{cb:()=>A(),types:N})},q={[N.PENDING](e){e.loading=!0},[N.SUCCESS](e,t){const{googleId:n,id:a=null}=t||{},o=a?{...t,accountType:n?"google":"local",loggedIn:!0}:$;e.data=o,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[N.FAILURE](e,t){e.data=$,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var J={namespaced:!0,state:G,getters:H,actions:R,mutations:q};const M="/api/countries",V=()=>I({url:""+M}),W=()=>({...k}),X={...F},Y={async fetch({commit:e}){e("load"),e("process",await V())}},Z={...T,success(e,{data:t}){e.data=t,e.error=null},failure(e,{error:t}){e.error=t,e.data=null}};var K={namespaced:!0,state:W,getters:X,actions:Y,mutations:Z};const Q={async init({dispatch:e}){await e("auth/fetch")}};var ee=Q;const te=!1,ne=Object(h["b"])({plugins:[...te?[Object(h["a"])()]:[]],actions:ee,modules:{test:w,auth:J,countries:K},strict:te});var ae=ne;function oe(e,t,n,o,r,c){const l=Object(a["u"])("auth"),u=Object(a["u"])("country"),i=Object(a["u"])("layout");return Object(a["n"])(),Object(a["c"])(i,{name:"LayoutDefault"},{default:Object(a["D"])(()=>[Object(a["e"])("div",null,[Object(a["e"])(l),Object(a["e"])(u)])]),_:1})}var re={name:"Layout",components:{LayoutDefault:O},props:{name:{type:String,required:!0}},emits:["update:layout"],created(){console.log("Name passed to layout",this.$props.name),this.$parent.$emit("update:layout",this.name)},render(){return this.$slots.default()}};const ce={id:"auth"},le=Object(a["e"])("br",null,null,-1),ue=Object(a["e"])("br",null,null,-1),ie=Object(a["e"])("br",null,null,-1),se=Object(a["e"])("br",null,null,-1),de=Object(a["e"])("br",null,null,-1),be=Object(a["e"])("br",null,null,-1),Oe=Object(a["e"])("br",null,null,-1);function je(e,t,n,o,r,c){return Object(a["n"])(),Object(a["c"])("div",ce,[Object(a["e"])("button",{onClick:t[1]||(t[1]=e=>o.fetchAuth())},"Fetch Auth"),le,Object(a["d"])(" Count: "+Object(a["x"])(o.count)+" ",1),ue,Object(a["d"])(" Has Data: "+Object(a["x"])(o.hasData)+" ",1),ie,Object(a["d"])(" Initialized: "+Object(a["x"])(o.initialized)+" ",1),se,Object(a["d"])(" Loading: "+Object(a["x"])(o.loading),1),de,Object(a["d"])(" Reloading: "+Object(a["x"])(o.reloading)+" ",1),be,Object(a["d"])(" In Error: "+Object(a["x"])(o.inError)+" ",1),Oe,Object(a["E"])(Object(a["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(a["x"])(JSON.stringify(o.auth,null,4)),513),[[a["B"],o.auth]]),Object(a["E"])(Object(a["e"])("pre",null,"There was an error!",512),[[a["B"],o.inError]]),Object(a["E"])(Object(a["e"])("pre",null,"There were "+Object(a["x"])(o.count)+" records found!",513),[[a["B"],o.hasData]]),Object(a["E"])(Object(a["e"])("pre",null,"reloading...",512),[[a["B"],o.reloading]])])}var pe={name:"Auth",setup(){const e=Object(h["c"])();return{fetchAuth:()=>e.dispatch("auth/fetch"),count:Object(a["a"])(()=>e.getters["auth/count"]),auth:Object(a["a"])(()=>e.getters["auth/all"]),hasData:Object(a["a"])(()=>e.getters["auth/hasData"]),loading:Object(a["a"])(()=>e.getters["auth/loading"]),inError:Object(a["a"])(()=>e.getters["auth/inError"]),initialized:Object(a["a"])(()=>e.getters["auth/initialized"]),reloading:Object(a["a"])(()=>e.getters["auth/reloading"])}}};pe.render=je;var ge=pe;const he={id:"country"},me=Object(a["e"])("br",null,null,-1),fe=Object(a["e"])("br",null,null,-1),ve=Object(a["e"])("br",null,null,-1),ye=Object(a["e"])("br",null,null,-1),we=Object(a["e"])("br",null,null,-1),Ce=Object(a["e"])("br",null,null,-1),xe=Object(a["e"])("br",null,null,-1),Ee=Object(a["e"])("br",null,null,-1),Ie=Object(a["e"])("br",null,null,-1),De=Object(a["e"])("br",null,null,-1),Se=Object(a["e"])("br",null,null,-1);function _e(e,t,n,o,r,c){return Object(a["n"])(),Object(a["c"])("div",he,[Object(a["d"])(" Visibility: "+Object(a["x"])(o.visibility)+" ",1),me,Object(a["e"])("button",{onClick:t[1]||(t[1]=e=>o.fetchCountries())},"Fetch Countries"),fe,Object(a["e"])("button",{onClick:t[2]||(t[2]=Object(a["F"])(e=>o.visibility="merica",["prevent"]))},"America First!"),ve,Object(a["d"])(" Total Count: "+Object(a["x"])(o.count)+" ",1),ye,Object(a["d"])(" Filtered Count: "+Object(a["x"])(o.filteredCountries?o.filteredCountries.length:null)+" ",1),we,Object(a["d"])(" Has Data: "+Object(a["x"])(o.hasData)+" ",1),Ce,Object(a["d"])(" Initialized: "+Object(a["x"])(o.initialized)+" ",1),xe,Object(a["d"])(" Loading: "+Object(a["x"])(o.loading),1),Ee,Object(a["d"])(" Reloading: "+Object(a["x"])(o.reloading)+" ",1),Ie,Object(a["d"])(" In Error: "+Object(a["x"])(o.inError)+" ",1),De,Object(a["E"])(Object(a["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(a["x"])(JSON.stringify(o.filteredCountries,null,4)),513),[[a["B"],o.filteredCountries]]),Object(a["E"])(Object(a["e"])("pre",null,"There was an error!",512),[[a["B"],o.inError]]),Object(a["E"])(Object(a["e"])("pre",null,"There were "+Object(a["x"])(o.count)+" records found!",513),[[a["B"],o.hasData]]),Object(a["E"])(Object(a["e"])("pre",null,"reloading...",512),[[a["B"],o.reloading]]),Object(a["E"])(Object(a["e"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.countryCode=e),type:"text"},null,512),[[a["A"],o.countryCode]]),Object(a["e"])("button",{onClick:t[4]||(t[4]=e=>o.visibility="lookup")},"Search Countries"),Se,Object(a["E"])(Object(a["e"])("pre",{style:{fontSize:"10px",maxHeight:"200px",overflow:"scroll"}},Object(a["x"])(JSON.stringify(o.lookupCountry,null,4)),513),[[a["B"],"lookup"===o.visibility]])])}const Ae={all:e=>e,merica:e=>e.filter(e=>"US"===e.countryCode),lookup:(e,t)=>e.filter(e=>e.countryCode===t)};var Le={name:"Country",setup(){const e=Object(a["s"])("all"),t=Object(a["s"])(""),n=Object(h["c"])(),o=Object(a["a"])(()=>n.state.countries.data),r=Object(a["a"])(()=>Ae[e.value](o.value)),c=Object(a["a"])(()=>Ae[e.value](o.value,t.value));return{fetchCountries:()=>n.dispatch("countries/fetch"),count:Object(a["a"])(()=>n.getters["countries/count"]),filteredCountries:r,lookupCountry:c,hasData:Object(a["a"])(()=>n.getters["countries/hasData"]),inError:Object(a["a"])(()=>n.getters["countries/inError"]),initialized:Object(a["a"])(()=>n.getters["countries/initialized"]),loading:Object(a["a"])(()=>n.getters["countries/loading"]),reloading:Object(a["a"])(()=>n.getters["countries/reloading"]),visibility:e,countryCode:t}}};Le.render=_e;var ze=Le,Ne={name:"ApiTester",components:{Auth:ge,Country:ze,Layout:re}};Ne.render=oe;var Ue=Ne,ke={name:"auth-success",created(){window.document.body.style.display="none",window.opener&&(window.opener.open("/dashboard","_self"),window.opener.focus(),window.close())},render(){return this.$slots.default[0]}};const Fe=Object(a["e"])("h1",null,"Welcome to the Dashboard",-1);function Te(e,t,n,o,r,c){return Object(a["n"])(),Object(a["c"])("div",null,[Fe])}var Pe={name:"Dashboard"};Pe.render=Te;var $e=Pe;const Be=Object(a["G"])("data-v-116c8dbb");Object(a["q"])("data-v-116c8dbb");const Ge={class:"login"},He={class:"login__google-signin google-signin"},Re=Object(a["e"])("span",{class:"google-signin__icon"},null,-1),qe=Object(a["e"])("span",{class:"google-signin__text"},"Login with Google",-1),Je=Object(a["e"])("label",null,"Logged In",-1),Me=Object(a["e"])("br",null,null,-1),Ve=Object(a["e"])("a",{href:"/logout"},"Logout",-1),We={class:"form-input"},Xe=Object(a["e"])("label",null,"Username:",-1),Ye={class:"form-input"},Ze=Object(a["e"])("label",null,"Password:",-1);Object(a["o"])();const Ke=Be((e,t,n,o,r,c)=>(Object(a["n"])(),Object(a["c"])("div",Ge,[Object(a["e"])("div",He,[Object(a["e"])("div",{class:"google-signin__btn",onClick:t[1]||(t[1]=e=>o.popup("/auth/google","google_login",500,500))},[Re,qe])]),Je,Object(a["d"])(" "+Object(a["x"])(o.loggedIn),1),Me,Ve,Object(a["d"])(" "+Object(a["x"])(o.error&&!o.isDirty?o.error:"")+" ",1),Object(a["e"])("div",We,[Xe,Object(a["E"])(Object(a["e"])("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.username=e),type:"text",name:"username"},null,512),[[a["A"],o.username]])]),Object(a["e"])("div",Ye,[Ze,Object(a["E"])(Object(a["e"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.password=e),type:"password",name:"password"},null,512),[[a["A"],o.password]])]),Object(a["e"])("button",{disabled:o.loading||!o.isDirty,onClick:t[4]||(t[4]=Object(a["F"])(e=>o.toggleLogin^=!0,["prevent"]))},Object(a["x"])(o.loading?"Loading...":"Login"),9,["disabled"])])));function Qe({callback:e,immediate:t=!0,deps:n=[]}){const o=Object(a["r"])({data:null,error:null,executions:0,failed:!1,initialized:!1,loaded:!1,loading:!1});return Object(a["C"])(n,async()=>{o.loading=!0;const t=await e(),{data:n=null,error:a=null}=t;o.data=n,o.error=a,o.executions+=1,o.initialized=!!o.executions,n&&(o.loaded=!0,o.failed=!1),a&&(o.loaded=!1,o.failed=!0),o.loading=!1},{immediate:t}),{...Object(a["y"])(o)}}var et={name:"Login",setup(){const e=Object(h["c"])(),t=Object(g["c"])(),n=Object(a["a"])(()=>e.getters["auth/loggedIn"]),o=Object(a["s"])(""),r=Object(a["s"])(""),c=Object(a["s"])(0),l=Object(a["a"])(()=>!(!o.value&&!r.value)),u=(e,t,n,a,o=window)=>{const r=o.top.outerHeight/2+o.top.screenY-a/2,c=o.top.outerWidth/2+o.top.screenX-n/2,l=`rel=opener, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${n}, height=${a}, top=${r}, left=${c}`;o.open(e,t,l)},{data:i,error:s,failed:d,loading:b,loaded:O}=Qe({callback:async()=>{const e=await L({username:o.value,password:r.value});return o.value="",r.value="",e},immediate:!1,deps:[c]});return Object(a["C"])(O,()=>O&&e.dispatch("auth/fetch")),e.watch(e=>e.auth.data.loggedIn,()=>{console.log("state watcher fired!"),t.push({name:"dashboard"})}),{results:i,error:s,failed:d,loaded:O,loading:b,username:o,password:r,toggleLogin:c,isDirty:l,loggedIn:n,popup:u}}};n("7ea9");et.render=Ke,et.__scopeId="data-v-116c8dbb";var tt=et;const nt=Object(a["e"])("h1",null,"Not Found",-1);function at(e,t,n,o,r,c){return Object(a["n"])(),Object(a["c"])("div",null,[nt])}var ot={name:"NotFound"};ot.render=at;var rt=ot;const ct=ae.dispatch("init"),lt=Object(a["a"])(()=>ae.getters["auth/loggedIn"]),ut=[{path:"/",name:"home",component:Ue,props:!1},{path:"/login",name:"login",component:tt,meta:{guest:!0}},{path:"/dashboard",name:"dashboard",component:$e,props:!0,meta:{requiresAuth:!0}},{path:"/success",name:"success",component:ke,props:!0,meta:{}},{path:"/:catchAll(.*)",name:"notfound",component:rt}],it=Object(g["a"])({history:Object(g["b"])(),routes:ut});it.beforeEach((e,t,n)=>{ct.then(n).catch(e=>console.log("Unable to initialize store",e))}),it.beforeEach((e,t,n)=>{e.matched.some(e=>e.meta.guest)?lt.value?n({name:"dashboard"}):n():e.matched.some(e=>e.meta.requiresAuth)?lt.value?n():n({name:"login"}):n()});var st=it;Object(a["b"])(p).use(ae).use(st).mount("#quizdini")},"7ea9":function(e,t,n){"use strict";n("cb02")},af08:function(e,t,n){},c9ea:function(e,t,n){"use strict";n("af08")},cb02:function(e,t,n){}});
//# sourceMappingURL=app.fd507160.js.map