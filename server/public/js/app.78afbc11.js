(function(e){function t(t){for(var r,n,l=t[0],i=t[1],c=t[2],d=0,m=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00ea":function(e,t,a){},"04fa":function(e,t,a){"use strict";a("4a3d")},"361e":function(e,t,a){"use strict";a("00ea")},"49da":function(e,t,a){},"4a3d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("a79d");var r=a("7a23");function s(e,t,a,s,o,n){const l=Object(r["A"])("router-view");return Object(r["s"])(),Object(r["d"])(Object(r["B"])(o.layout),null,{default:Object(r["J"])(()=>[Object(r["g"])(l,{layout:o.layout,"onUpdate:layout":t[1]||(t[1]=e=>o.layout=e)},null,8,["layout"])]),_:1})}var o={name:"App",data(){return{layout:"div"}}};a("bc43");o.render=s;var n=o,l=a("6c02");function i(e,t,a,s,o,n){const l=Object(r["A"])("layout-default");return Object(r["s"])(),Object(r["d"])(l,null,{default:Object(r["J"])(()=>[Object(r["z"])(e.$slots,"default")]),_:3})}var c={name:"AuthSuccess",created(){window.document.body.style.display="none",window.opener&&(window.opener.open("/dashboard","_self"),window.opener.focus(),window.close())}};c.render=i;var u=c;const d=Object(r["g"])("h1",null,"Welcome to the Dashboard",-1);function m(e,t,a,s,o,n){const l=Object(r["A"])("layout-default");return Object(r["s"])(),Object(r["d"])(l,null,{default:Object(r["J"])(()=>[d]),_:1})}var b={name:"Dashboard"};b.render=m;var p=b;function g(e,t,a,s,o,n){const l=Object(r["A"])("login-form"),i=Object(r["A"])("layout-default");return Object(r["s"])(),Object(r["d"])(i,null,{default:Object(r["J"])(()=>[Object(r["g"])(l)]),_:1})}a("ddb0");const O=Object(r["M"])("data-v-4618903c");Object(r["v"])("data-v-4618903c");const j={class:"login"},v={class:"login__google-signin google-signin"},f=Object(r["g"])("span",{class:"google-signin__icon"},null,-1),h=Object(r["g"])("span",{class:"google-signin__text"},"Login with Google",-1),y={key:0},w={class:"form-input"},U={class:"form-input"},I={class:"form-input"};Object(r["t"])();const x=O((e,t,a,s,o,n)=>{const l=Object(r["A"])("ui-input");return Object(r["s"])(),Object(r["d"])("div",j,[Object(r["g"])("h1",{"v-if":s.flashMessage},Object(r["D"])(s.flashMessage),9,["v-if"]),Object(r["g"])("div",v,[Object(r["g"])("div",{class:"google-signin__btn",onClick:t[1]||(t[1]=e=>s.popup("/auth/google","google_login",500,500))},[f,h])]),Object(r["g"])("form",{class:"login__form",onSubmit:t[8]||(t[8]=Object(r["L"])((...e)=>s.loginUser&&s.loginUser(...e),["prevent"]))},[e.errors&&!e.isDirty&&e.message?(Object(r["s"])(),Object(r["d"])("div",y,Object(r["D"])(e.message),1)):Object(r["e"])("",!0),Object(r["g"])("div",w,[Object(r["g"])(l,{value:e.username,"onUpdate:value":t[2]||(t[2]=t=>e.username=t),autofocus:"",errors:e.errors["username"],label:"Username",name:"username",type:"text",tabindex:"1",onBlur:t[3]||(t[3]=e=>s.validate("username")),onKeyup:t[4]||(t[4]=e=>s.hasError("username")&&s.validate("username"))},null,8,["value","errors"])]),Object(r["g"])("div",U,[Object(r["g"])(l,{value:e.password,"onUpdate:value":t[5]||(t[5]=t=>e.password=t),errors:e.errors["password"],label:"Password",name:"password",type:"password",tabindex:"2",onBlur:t[6]||(t[6]=e=>s.validate("password")),onKeyup:t[7]||(t[7]=e=>s.hasError("password")&&s.validate("password"))},null,8,["value","errors"])]),Object(r["g"])("div",I,[Object(r["g"])("input",{type:"submit",value:"Login",disabled:!e.isDirty||e.hasErrors||e.loading,tabindex:"3"},null,8,["disabled"])])],32)])});var F=a("506a"),S=a("5502"),E=a("bc3a"),C=a.n(E);C.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;const B={timeout:3e4},N=async({url:e,config:t=B})=>{try{const a=await C.a.get(e,t);return{data:a.data,error:!1}}catch(a){return{data:a.response.data,error:!0}}},_=async({url:e,data:t,config:a=B})=>{try{const r=await C.a.post(e,t,a);return{data:r.data,error:!1}}catch(r){return{data:r.response.data,error:!0}}},A="/api/current_user",k="/auth/local",q=()=>N({url:""+A}),P=e=>_({url:""+k,data:e}),T=Object(r["M"])("data-v-a338077c"),D=T((e,t,a,s,o,n)=>{const l=Object(r["A"])("ui-error");return Object(r["s"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("label",{for:a.name},Object(r["D"])(a.label),9,["for"]),Object(r["K"])(Object(r["g"])("input",Object(r["m"])(e.$attrs,{ref:"inputRef","onUpdate:modelValue":t[1]||(t[1]=e=>s.input=e),autocomplete:a.autocomplete||"off",class:n.classes,name:a.name,type:a.type,novalidate:"true"}),null,16,["autocomplete","name","type"]),[[r["G"],s.input]]),a.errors?(Object(r["s"])(),Object(r["d"])(l,{key:0,errors:a.errors},null,8,["errors"])):Object(r["e"])("",!0)],64)}),M={key:0};function $(e,t,a,s,o,n){return Object(r["s"])(),Object(r["d"])("div",null,[(Object(r["s"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(a.errors,(e,t)=>(Object(r["s"])(),Object(r["d"])("ul",{key:t},[e?(Object(r["s"])(),Object(r["d"])("li",M,Object(r["D"])(e),1)):Object(r["e"])("",!0)]))),128))])}var L={name:"UiError",props:{errors:{type:Array,default:()=>[],required:!1}}};L.render=$;var V=L;const R={props:{autofocus:{type:Boolean,default:!1}},mounted(){this.autofocus&&document.activeElement!==this.$refs.inputRef&&"undefined"!==typeof document&&this.setFocus()},methods:{setFocus(){this.$refs.inputRef.focus()}}},H={props:{alert:{type:Boolean},danger:{type:Boolean},error:{type:Boolean},info:{type:Boolean},negative:{type:Boolean},positive:{type:Boolean},success:{type:Boolean},warning:{type:Boolean}},computed:{severityClasses(){return{danger:this.alert||this.danger||this.error||this.negative,warning:this.warning,info:this.info,success:this.success||this.positive}}}};Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;var J={name:"UiInput",components:{UiError:V},mixins:[R],inheritAttr:!1,props:{autocomplete:{type:String,default:"off",required:!1},errors:{type:[Array,String],default:"",required:!1},label:{type:String,default:"",required:!1},name:{type:String,required:!0},type:{type:String,default:"text",required:!0},value:{type:String}},emits:["update:value"],setup(e,{emit:t}){const a=Object(r["b"])({get:()=>e.value,set:e=>t("update:value",e)});return{input:a}},computed:{classes(){return{"ui-input":!0}}}};a("df1a");J.render=D,J.__scopeId="data-v-a338077c";var z=J;const G=e=>({FETCH:e+"_FETCH",SUCCESS:e+"_SUCCESS",FAILURE:e+"_FAILURE",PENDING:e+"_PENDING"}),K=G("AUTH"),Z=G("COUNTRIES"),W=G("STATES");var Q={name:"LoginForm",components:{UiInput:z},setup(){const e=Object(S["c"])(),t=Object(l["c"])(),a=Object(l["d"])(),{message:s}=t.params,o=Object(r["w"])({username:"",password:"",loading:!1,isDirty:Object(r["b"])(()=>!(!o.username||!o.password)),errors:{},hasErrors:Object(r["b"])(()=>Object.keys(o.errors).some(e=>!!o.errors[e])),message:""}),n=Object(F["a"])({username:Object(F["c"])().required(),password:Object(F["c"])().required()});function i(e){n.validateAt(e,{username:o.username,password:o.password}).then(()=>{o.errors[e]=""}).catch(t=>{o.errors[e]=t.errors})}function c(){n.validate({username:o.username,password:o.password},{abortEarly:!1}).then(()=>(o.loading=!0,P({username:o.username,password:o.password}).then(e=>{const{error:t,data:a}=e||{};if(t)throw o.errors={},o.loading=!1,o.password="",o.username="",o.message=a.message,new Error("LoginFailed")}).then(()=>e.dispatch("auth/"+K.FETCH)).then(()=>a.push({name:"dashboard"})).catch(()=>{}))).catch(e=>{e.inner.forEach(e=>{o.errors[e.path]=e.errors})})}const u=(e,t,a,r,s=window)=>{const o=s.top.outerHeight/2+s.top.screenY-r/2,n=s.top.outerWidth/2+s.top.screenX-a/2,l=`rel=opener, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${a}, height=${r}, top=${o}, left=${n}`;s.open(e,t,l)},d=e=>e in o.errors&&!!o.errors[e];return{flashMessage:s,hasError:d,loginUser:c,popup:u,validate:i,...Object(r["E"])(o)}}};a("04fa");Q.render=x,Q.__scopeId="data-v-4618903c";var X=Q;const Y={class:"register"},ee={key:0},te={class:"form-input"},ae={class:"form-input"},re={class:"form-input"},se={class:"form-input"},oe={class:"form-input"},ne={class:"form-input"},le={class:"form-input"},ie={class:"form-input"},ce={class:"form-input"},ue={class:"form-input"},de={class:"form-input"};function me(e,t,a,s,o,n){const l=Object(r["A"])("ui-datalist"),i=Object(r["A"])("ui-input");return Object(r["s"])(),Object(r["d"])("div",Y,[Object(r["g"])("form",{class:"register__form",onSubmit:t[43]||(t[43]=Object(r["L"])((...e)=>s.registerUser&&s.registerUser(...e),["prevent"]))},[e.message&&!e.isValid?(Object(r["s"])(),Object(r["d"])("div",ee,Object(r["D"])(e.message),1)):Object(r["e"])("",!0),Object(r["g"])("pre",null,Object(r["D"])(JSON.stringify(e.touched,null,4))+" ",1),Object(r["g"])("div",te,[Object(r["g"])(l,{id:"title",value:e.title,"onUpdate:value":t[1]||(t[1]=t=>e.title=t),autofocus:"",autocomplete:"honorific-prefix",options:s.titles,label:"Title",name:"title",errors:e.errors.title,tabindex:"1",maxlength:"10",onFocus:t[2]||(t[2]=e=>s.setFieldTouched("title")),onInput:t[3]||(t[3]=t=>e.errors.title&s.validateField("title")),onBlur:t[4]||(t[4]=e=>s.handleBlur("title",!0))},null,8,["value","options","errors"])]),Object(r["g"])("div",ae,[Object(r["g"])(i,{value:e.firstName,"onUpdate:value":t[5]||(t[5]=t=>e.firstName=t),autocomplete:"given-name",errors:e.errors.firstName,label:"First Name",name:"first-name",type:"text",tabindex:"2",onFocus:t[6]||(t[6]=e=>s.setFieldTouched("firstName")),onInput:t[7]||(t[7]=t=>e.errors.firstName&&s.validateField("firstName")),onBlur:t[8]||(t[8]=e=>s.handleBlur("firstName",!0))},null,8,["value","errors"])]),Object(r["g"])("div",re,[Object(r["g"])(i,{value:e.lastName,"onUpdate:value":t[9]||(t[9]=t=>e.lastName=t),autocomplete:"family-name",errors:e.errors.lastName,label:"Last Name",name:"last-name",type:"text",tabindex:"3",onFocus:t[10]||(t[10]=e=>s.setFieldTouched("lastName")),onInput:t[11]||(t[11]=t=>e.errors.lastName&&s.validateField("lastName")),onBlur:t[12]||(t[12]=e=>s.handleBlur("lastName",!0))},null,8,["value","errors"])]),Object(r["g"])("div",se,[Object(r["g"])(i,{value:e.city,"onUpdate:value":t[13]||(t[13]=t=>e.city=t),autocomplete:"address-level2",errors:e.errors.city,label:"City",name:"city",type:"text",tabindex:"4",maxlength:"100",onFocus:t[14]||(t[14]=e=>s.setFieldTouched("city")),onInput:t[15]||(t[15]=t=>e.errors.city&&s.validateField("city")),onBlur:t[16]||(t[16]=e=>s.handleBlur("city",!0))},null,8,["value","errors"])]),Object(r["g"])("div",oe,[Object(r["g"])(l,{id:"countries",value:e.country,"onUpdate:value":t[17]||(t[17]=t=>e.country=t),code:e.countryCode,"onUpdate:code":t[18]||(t[18]=t=>e.countryCode=t),autocomplete:"country-name",options:s.countries,label:"Country",name:"country",errors:e.errors.country,tabindex:"5",onFocus:t[19]||(t[19]=e=>s.setFieldTouched("country")),onInput:t[20]||(t[20]=t=>e.errors.country&&s.validateField("country")),onBlur:t[21]||(t[21]=e=>s.handleBlur("country",!0))},null,8,["value","code","options","errors"])]),Object(r["K"])(Object(r["g"])("div",ne,[Object(r["g"])(l,{id:"states",value:e.state,"onUpdate:value":t[22]||(t[22]=t=>e.state=t),code:e.stateCode,"onUpdate:code":t[23]||(t[23]=t=>e.stateCode=t),autocomplete:"address-level1",options:s.states,label:"State",name:"state",errors:e.errors.state,tabindex:"6",onFocus:t[24]||(t[24]=e=>s.setFieldTouched("state")),onInput:t[25]||(t[25]=t=>e.errors.state&&s.validateField("state")),onBlur:t[26]||(t[26]=e=>s.handleBlur("state",!0))},null,8,["value","code","options","errors"])],512),[[r["H"],"US"===e.countryCode]]),Object(r["g"])("div",le,[Object(r["g"])(i,{value:e.email,"onUpdate:value":t[27]||(t[27]=t=>e.email=t),autocomplete:"email",errors:e.errors.email,label:"Email",name:"email",type:"email",tabindex:"7",onFocus:t[28]||(t[28]=e=>s.setFieldTouched("email")),onInput:t[29]||(t[29]=t=>e.errors.email&&s.validateField("email")),onBlur:t[30]||(t[30]=e=>s.handleBlur("email",!0))},null,8,["value","errors"])]),Object(r["g"])("div",ie,[Object(r["g"])(i,{value:e.username,"onUpdate:value":t[31]||(t[31]=t=>e.username=t),autocomplete:"username",errors:e.errors.username,label:"Username",name:"username",type:"text",tabindex:"8",maxlength:"20",onFocus:t[32]||(t[32]=e=>s.setFieldTouched("username")),onInput:t[33]||(t[33]=t=>e.errors.username&&s.validateField("username")),onBlur:t[34]||(t[34]=e=>s.handleBlur("username",!0))},null,8,["value","errors"])]),Object(r["g"])("div",ce,[Object(r["g"])(i,{value:e.password,"onUpdate:value":t[35]||(t[35]=t=>e.password=t),autocomplete:"new-password",errors:e.errors.password,label:"Password",name:"password",type:"password",tabindex:"9",onFocus:t[36]||(t[36]=e=>s.setFieldTouched("password")),onInput:t[37]||(t[37]=t=>e.errors.password&&s.validateField("password")),onBlur:t[38]||(t[38]=e=>s.handleBlur("password",!0))},null,8,["value","errors"])]),Object(r["g"])("div",ue,[Object(r["g"])(i,{value:e.confirmPassword,"onUpdate:value":t[39]||(t[39]=t=>e.confirmPassword=t),autocomplete:"new-password",errors:e.errors.confirmPassword,label:"Confirm Password",name:"confirm-password",type:"password",tabindex:"10",onFocus:t[40]||(t[40]=e=>s.setFieldTouched("confirmPassword")),onInput:t[41]||(t[41]=t=>e.errors.confirmPassword&&s.validateField("confirmPassword")),onBlur:t[42]||(t[42]=e=>s.handleBlur("confirmPassword",!0))},null,8,["value","errors"])]),Object(r["g"])("div",de,[Object(r["g"])("input",{type:"submit",value:e.isSubmitting?"Loading":"Register",disabled:e.isSubmitting||!e.isDirty||!e.isValid,tabindex:"11"},null,8,["value","disabled"])])],32)])}a("13d5");var be=a("2ef0"),pe=a.n(be);const ge="/api/account",Oe=e=>_({url:""+ge,data:e}),je=Object(r["M"])("data-v-eca1fe1c"),ve=je((e,t,a,s,o,n)=>{const l=Object(r["A"])("ui-error");return Object(r["s"])(),Object(r["d"])(r["a"],null,[Object(r["g"])("label",{for:a.name},Object(r["D"])(a.label),9,["for"]),Object(r["K"])(Object(r["g"])("input",Object(r["m"])(e.$attrs,{ref:"inputRef","onUpdate:modelValue":t[1]||(t[1]=e=>s.input=e),list:a.id,class:n.classes,name:a.name,novalidate:"true",onInput:t[2]||(t[2]=e=>s.onInputChange(e))}),null,16,["list","name"]),[[r["G"],s.input]]),Object(r["g"])("datalist",{id:a.id},[(Object(r["s"])(!0),Object(r["d"])(r["a"],null,Object(r["y"])(a.options,e=>(Object(r["s"])(),Object(r["d"])("option",{key:e.key,"data-value":e.value},Object(r["D"])(e.text),9,["data-value"]))),128))],8,["id"]),a.errors?(Object(r["s"])(),Object(r["d"])(l,{key:0,errors:a.errors},null,8,["errors"])):Object(r["e"])("",!0)],64)});var fe={name:"UiDatalist",components:{UiError:V},mixins:[R],inheritAttr:!1,props:{code:{type:String,required:!1},errors:{type:[Array,String],default:"",required:!1},id:{type:String,required:!0},label:{type:String,default:"",required:!1},name:{type:String,required:!0},options:{type:[Array],required:!0},value:{type:String}},emits:["update:value","update:code"],setup(e,{emit:t}){const a=Object(r["b"])({get:()=>e.value,set:e=>t("update:value",e)}),s=e=>{const a=Array.from(e.target.list.options).find(t=>t.innerHTML===e.target.value);t("update:code",a?a.dataset["value"]:"")};return{input:a,onInputChange:s}},computed:{classes(){return{"ui-datalist":!0}}}};a("5e3e");fe.render=ve,fe.__scopeId="data-v-eca1fe1c";var he=fe;function ye(){const e=Object(S["c"])(),t=()=>e.dispatch("countries/"+Z.FETCH),a=Object(r["b"])(()=>e.getters["countries/options"]),s=Object(r["b"])(()=>e.getters["countries/error"]),o=Object(r["b"])(()=>e.getters["countries/failed"]),n=Object(r["b"])(()=>e.getters["countries/loaded"]),l=Object(r["b"])(()=>e.getters["countries/loading"]);return Object(r["q"])(()=>{n.value||l.value||t()}),{countries:a,error:s,failed:o,loaded:n,loading:l}}function we(){const e=Object(S["c"])(),t=()=>e.dispatch("states/"+W.FETCH),a=Object(r["b"])(()=>e.getters["states/options"]),s=Object(r["b"])(()=>e.getters["states/error"]),o=Object(r["b"])(()=>e.getters["states/failed"]),n=Object(r["b"])(()=>e.getters["states/loaded"]),l=Object(r["b"])(()=>e.getters["states/loading"]);return Object(r["q"])(()=>{n.value||l.value||t()}),{states:a,error:s,failed:o,loaded:n,loading:l}}const Ue=Object(F["a"])({city:Object(F["c"])().max(100,"City is too long (${max} characters allowed)"),confirmPassword:Object(F["c"])().oneOf([Object(F["b"])("password")],"Passwords mismatch"),country:Object(F["c"])().required("Country is required"),email:Object(F["c"])().required("Email is required").email("Invalid email"),firstName:Object(F["c"])().required("First Name is required"),lastName:Object(F["c"])().required("Last Name is required"),password:Object(F["c"])().required("Password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[@$!%*#?&])[A-Za-z0-9@$!%*#?&]{8,}$/,"Password must be 8 or more characters long and include upper, lower, numeric and special @$!%*#?& characters"),state:Object(F["c"])().when("countryCode",{is:e=>"US"===e,then:Object(F["c"])().required("State is required")}),title:Object(F["c"])().max(10,"Title too long (${max} characters allowed)"),username:Object(F["c"])().required("Username is required").min(6,"Username is too short (${min} characters minimum)").max(20,"Username is too long (${max} characters allowed)")});var Ie={name:"RegisterForm",components:{UiDatalist:he,UiInput:z},setup(){const e=Object(l["d"])(),{countries:t}=ye(),{states:a}=we(),s=[{key:0,text:"Mr.",value:"Mr."},{key:1,text:"Mrs.",value:"Mrs."},{key:2,text:"Ms.",value:"Ms."},{key:3,text:"Prof.",value:"Prof."},{key:4,text:"Miss",value:"Miss"},{key:5,text:"Dr.",value:"Dr."}],o=Object(r["w"])({city:"",confirmPassword:"",country:"",countryCode:"",email:"",firstName:"",lastName:"",password:"",state:"",stateCode:"",title:"",username:""}),n=Object(r["w"])({...o}),i=Object(r["w"])({changed:!1,dirty:{},errors:{},isDirty:Object(r["b"])(()=>i.changed||Object.keys(i.dirty).some(e=>!!i.dirty[e])),isSubmitting:!1,isTouched:Object(r["b"])(()=>!Object.keys(i.touched).some(e=>!!i.touched[e])),isValid:Object(r["b"])(()=>!Object.keys(i.errors).some(e=>!!i.errors[e])),message:"",touched:{}}),c=e=>{if(pe.a.isEqual(n[e],o[e])){const{[e]:t,...a}=i.dirty;i.dirty=a}else i.dirty=Object.assign({},i.dirty,{[e]:!0})},u=e=>{i.touched=Object.assign({},i.touched,{[e]:!0})},d=e=>{Ue.validateAt(e,n,{abortEarly:!1}).then(()=>{const{[e]:t,...a}=i.errors;i.errors=a}).catch(t=>{"ValidationError"===t.name&&(i.errors[e]=Array.from(t.inner[0].errors))}).finally(()=>{c(e)})},m=(e,t=!1)=>{u(e),t&&d(e)},b=async()=>{Ue.validate(n,{abortEarly:!1}).then(()=>(i.isSubmitting=!0,Oe(n).then(e=>{const{error:t,data:a}=e||{};if(t){switch(a.code){case"DuplicateUsername":n.username="",i.errors["username"]=["Username already taken"];break;case"DuplicateEmail":n.email="",i.errors["email"]=["Email already taken"];break;default:break}throw i.message=a.message,new Error("RegisterFailed")}return a.message}).then(t=>e.push({name:"login",params:{message:t}})).catch(e=>{console.error(e)}))).catch(e=>{"ValidationError"===e.name&&(i.errors=e.inner.reduce((e,t)=>(t.path in e||(e[t.path]=Array.from(t.errors)),e),{}))}).finally(()=>{i.touched={},i.dirty={},i.changed=!1,i.isSubmitting=!1})};return Object(r["I"])(()=>n,e=>{i.changed=!pe.a.isEqual(e,o)},{deep:!0}),{countries:t,handleBlur:m,setFieldTouched:u,registerUser:b,states:a,titles:s,validateField:d,...Object(r["E"])(i),...Object(r["E"])(n)}}};Ie.render=me;var xe=Ie;const Fe={class:"form-input"},Se={class:"form-input"},Ee={class:"form-input"},Ce={class:"form-input"},Be={class:"form-input"},Ne={class:"form-input"},_e={class:"form-input"},Ae={class:"form-input"},ke={class:"form-input"},qe={class:"form-input"},Pe={class:"form-input"};function Te(e,t,a,s,o,n){const l=Object(r["A"])("ui-message"),i=Object(r["A"])("ui-datalist"),c=Object(r["A"])("ui-input"),u=Object(r["A"])("ui-form");return Object(r["s"])(),Object(r["d"])(u,{"initial-values":s.initialValues,schema:s.registerFormSchema,tag:"div",onSubmit:s.handleSubmit},{default:Object(r["J"])(({blur:e,dirty:a,errors:o,handleSubmit:n,hasErrors:u,input:d,submitting:m,touched:b,values:p})=>[!s.message||m||a?Object(r["e"])("",!0):(Object(r["s"])(),Object(r["d"])(l,Object(r["m"])({key:0},{[""+s.severity]:!0}),{default:Object(r["J"])(()=>[Object(r["f"])(Object(r["D"])(s.message),1)]),_:1},16)),Object(r["g"])("form",null,[Object(r["g"])("div",Fe,[Object(r["g"])(i,{id:"title",value:p.title,"onUpdate:value":e=>p.title=e,autofocus:"",autocomplete:"honorific-prefix",options:s.titles,label:"Title",name:"title",errors:b.title&&o.title,tabindex:"1",maxlength:"10",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","options","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Se,[Object(r["g"])(c,{value:p.firstName,"onUpdate:value":e=>p.firstName=e,name:"first-name",autocomplete:"given-name",errors:b.firstName&&o.firstName,label:"First Name",tabindex:"2",type:"text",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Ee,[Object(r["g"])(c,{value:p.lastName,"onUpdate:value":e=>p.lastName=e,autocomplete:"family-name",errors:b.lastName&&o.lastName,label:"Last Name",name:"last-name",type:"text",tabindex:"3",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Ce,[Object(r["g"])(c,{value:p.city,"onUpdate:value":e=>p.city=e,autocomplete:"address-level2",errors:b.city&&o.city,label:"City",name:"city",type:"text",tabindex:"4",maxlength:"100",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Be,[Object(r["g"])(i,{id:"countries",value:p.country,"onUpdate:value":e=>p.country=e,code:p.countryCode,"onUpdate:code":e=>p.countryCode=e,autocomplete:"country-name",options:s.countries,label:"Country",name:"country",errors:b.country&&o.country,tabindex:"5",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","code","onUpdate:code","options","errors","disabled","onBlur","onInput"])]),Object(r["K"])(Object(r["g"])("div",Ne,[Object(r["g"])(i,{id:"states",value:p.state,"onUpdate:value":e=>p.state=e,code:p.stateCode,"onUpdate:code":e=>p.stateCode=e,autocomplete:"address-level1",options:s.states,label:"State",name:"state",errors:b.state&&o.state,tabindex:"6",disabled:m},null,8,["value","onUpdate:value","code","onUpdate:code","options","errors","disabled"])],512),[[r["H"],"US"===p.countryCode]]),Object(r["g"])("div",_e,[Object(r["g"])(c,{value:p.email,"onUpdate:value":e=>p.email=e,autocomplete:"email",errors:b.email&&o.email,label:"Email",name:"email",type:"email",tabindex:"7",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Ae,[Object(r["g"])(c,{value:p.username,"onUpdate:value":e=>p.username=e,autocomplete:"username",errors:b.username&&o.username,label:"Username",name:"username",type:"text",tabindex:"8",maxlength:"20",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",ke,[Object(r["g"])(c,{value:p.password,"onUpdate:value":e=>p.password=e,autocomplete:"new-password",errors:b.password&&o.password,label:"Password",name:"password",type:"password",tabindex:"9",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",qe,[Object(r["g"])(c,{value:p.confirmPassword,"onUpdate:value":e=>p.confirmPassword=e,autocomplete:"new-password",errors:b.confirmPassword&&o.confirmPassword,label:"Confirm Password",name:"confirm-password",type:"password",tabindex:"10",disabled:m,onBlur:e,onInput:d},null,8,["value","onUpdate:value","errors","disabled","onBlur","onInput"])]),Object(r["g"])("div",Pe,[Object(r["g"])(c,{name:"test-submit",disabled:m||u||!a,type:"button",value:"submit",onMousedown:t[1]||(t[1]=Object(r["L"])(()=>!1,["prevent"])),onClick:Object(r["L"])(n,["prevent"])},null,8,["disabled","onClick"])])])]),_:1},8,["initial-values","schema","onSubmit"])}a("5319");function De({emit:e,initialValues:t,schema:a}){const s=Object(r["w"])(JSON.parse(JSON.stringify(Object(r["F"])(t)))),o=Object(r["w"])({errors:{},touched:{}}),n=Object(r["b"])(()=>Object.keys(o.errors).length>0),l=Object(r["x"])(!1),i=Object(r["x"])(!1),c=e=>e.replace(/-./g,e=>e[1].toUpperCase());Object(r["I"])(()=>s,e=>{l.value=!JSON.stringify(e)!==JSON.stringify(Object(r["F"])(t))},{deep:!0});const u=()=>a.validate(s,{abortEarly:!1}).then(()=>{o.errors={}}).catch(e=>{"ValidationError"===e.name&&(o.errors=e.inner.reduce((e,t)=>(t.path in e?e[t.path].push(t.message):e[t.path]=new Array(t.message),e),{}))}),d=e=>a.validateAt(e,s,{abortEarly:!1}).then(()=>{const{[e]:t,...a}=o.errors;o.errors=a}).catch(t=>{"ValidationError"===t.name&&(o.errors[e]=Array.from(t.inner[0].errors))}),m=e=>{o.touched[e]=!0},b=e=>{Object.entries(e).forEach(([e,t])=>{s[e]=t})},p=(e,t)=>{b({[e]:t})},g=e=>{l.value=e},O=e=>{u()},j=e=>{const t=c(e.target.name);m(t)},v=async()=>{if(await u(),Object(r["F"])(n)){const{schema:{fields:t={}}={}}=props;return o.touched=Object.keys(t).reduce((e,t)=>({...e,[t]:!0}),{}),e("submit",{errors:o.errors,values:null})}return e("submit",{values:s,setSubmitting:()=>{i.value=!0},setSubmitted:()=>{i.value=!1,l.value=!1,o.touched={}}})};return Object(r["u"])("uiform",{setValue:p}),{dirty:l,handleBlur:j,handleInput:O,handleSubmit:v,hasErrors:n,initialValues:t,setDirty:g,setValue:p,setValues:b,submitting:i,validateField:d,values:s,...Object(r["E"])(o)}}var Me={name:"UiForm",props:["initialValues","schema","tag"],emits:["submit"],setup(e,{emit:t}){const a=Object(r["x"])(e.initialValues),{dirty:s,errors:o,handleBlur:n,handleInput:l,handleSubmit:i,hasErrors:c,setDirty:u,setValue:d,setValues:m,submitting:b,touched:p,validateField:g,values:O}=De({emit:t,initialValues:a,schema:e.schema});return{dirty:s,errors:o,handleBlur:n,handleInput:l,handleSubmit:i,hasErrors:c,setDirty:u,setValue:d,setValues:m,submitting:b,touched:p,validateField:g,values:O}},render(){const{$slots:e}=this,t=e?e.default({blur:this.handleBlur,dirty:this.dirty,errors:this.errors,handleSubmit:this.handleSubmit,hasErrors:this.hasErrors,input:this.handleInput,submitting:this.submitting,touched:this.touched,validateField:this.validateField,values:this.values}):[];return 0===t.length?t[0]:Object(r["j"])(this.tag||"form",t)}},$e=Me;function Le(e,t,a,s,o,n){return Object(r["s"])(),Object(r["d"])("div",{class:n.classes},[Object(r["z"])(e.$slots,"default")],2)}var Ve={name:"UiMessage",mixins:[H],setup(e,{emit:t}){return{}},computed:{classes(){return{"ui-message":!0,...this.severityClasses}}}};Ve.render=Le;var Re=Ve,He={name:"TestForm",components:{UiDatalist:he,UiForm:$e,UiInput:z,UiMessage:Re},setup(){const e=Object(r["x"])(""),t=Object(r["x"])(""),a=Object(l["d"])(),{countries:s}=ye(),{states:o}=we(),n=[{key:0,text:"Mr.",value:"Mr."},{key:1,text:"Mrs.",value:"Mrs."},{key:2,text:"Ms.",value:"Ms."},{key:3,text:"Prof.",value:"Prof."},{key:4,text:"Miss",value:"Miss"},{key:5,text:"Dr.",value:"Dr."}],i=Object(F["a"])({city:Object(F["c"])().max(100,"City is too long (${max} characters allowed)"),confirmPassword:Object(F["c"])().oneOf([Object(F["b"])("password")],"Passwords mismatch"),country:Object(F["c"])().required("Country is required"),email:Object(F["c"])().required("Email is required").email("Invalid email"),firstName:Object(F["c"])().required("First Name is required"),lastName:Object(F["c"])().required("Last Name is required"),password:Object(F["c"])().required("Password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[@$!%*#?&])[A-Za-z0-9@$!%*#?&]{8,}$/,"Password must be 8 or more characters long and include upper, lower, numeric and special @$!%*#?& characters"),state:Object(F["c"])().when("countryCode",{is:e=>"US"===e,then:Object(F["c"])().required("State is required")}),title:Object(F["c"])().max(10,"Title too long (${max} characters allowed)"),username:Object(F["c"])().required("Username is required").min(6,"Username is too short (${min} characters minimum)").max(20,"Username is too long (${max} characters allowed)")}),c=Object(r["w"])({city:"",confirmPassword:"",country:"",countryCode:"",email:"",firstName:"",lastName:"",password:"",state:"",stateCode:"",title:"",username:""}),u=async({errors:r,setSubmitting:s,setSubmitted:o,values:n})=>{r||(s(),Oe(n).then(a=>{const{error:r,data:s}=a||{};if(r){switch(s.code){case"DuplicateUsername":n.username="",e.value="Username already taken",t.value="danger";break;case"DuplicateEmail":n.email="";break;default:break}throw new Error("RegistrationFailed")}}).then(e=>a.push({name:"login",params:{message:e}})).catch(e=>{console.error(e)}).finally(()=>{o()}))};return{countries:s,handleSubmit:u,initialValues:c,message:e,registerFormSchema:i,severity:t,states:o,titles:n}}};He.render=Te;var Je=He,ze={name:"Login",components:{LoginForm:X}};ze.render=g;var Ge=ze;const Ke=Object(r["g"])("h1",null,"Not Found",-1);function Ze(e,t,a,s,o,n){return Object(r["s"])(),Object(r["d"])("div",null,[Ke])}var We={name:"NotFound"};We.render=Ze;var Qe=We;function Xe(e,t,a,s,o,n){const l=Object(r["A"])("register-form"),i=Object(r["A"])("layout-default");return Object(r["s"])(),Object(r["d"])(i,null,{default:Object(r["J"])(()=>[Object(r["g"])(l)]),_:1})}var Ye={name:"Register",components:{RegisterForm:xe}};Ye.render=Xe;var et=Ye;function tt(e,t,a,s,o,n){const l=Object(r["A"])("test-form"),i=Object(r["A"])("layout-default");return Object(r["s"])(),Object(r["d"])(i,null,{default:Object(r["J"])(()=>[Object(r["g"])(l)]),_:1})}var at={name:"Test",components:{TestForm:Je}};at.render=tt;var rt=at;const st=[{path:"/",name:"home",component:et,meta:{navItem:!0},props:!1},{path:"/test",name:"test",component:rt,meta:{navItem:!0,guest:!0},props:!1},{path:"/register",name:"register",component:et,meta:{navItem:!0,guest:!0},props:!1},{path:"/login",name:"login",component:Ge,meta:{navItem:!0,guest:!0}},{path:"/dashboard",name:"dashboard",component:p,meta:{navItem:!0,auth:!0},props:!0},{path:"/success",name:"success",component:u,meta:{navItem:!1},props:!0},{path:"/:catchAll(.*)",name:"notfound",component:Qe,meta:{navItem:!1}}];var ot=st;const nt=()=>({counter:0}),lt={counter:e=>e.counter},it={setCounter({commit:e},t){e("setCounter",t)},resetCounter({commit:e}){e("setCounter",{counter:0})},updateCounter({commit:e}){e("incrementCounter")}},ct={setCounter(e,t){e.counter=t.counter},incrementCounter(e){e.counter++}};var ut={namespaced:!0,state:nt,getters:lt,actions:it,mutations:ct};const dt=async(e,{cb:t,types:a})=>{try{e.commit(a.PENDING);const{data:r,error:s}=await t();e.commit(s?a.FAILURE:a.SUCCESS,r)}catch(r){e.commit(a.FAILURE,r)}},mt={accountType:null,credits:null,googlePicture:null,loggedIn:!1,username:null},bt={data:mt,error:null,failed:!1,loaded:!1,loading:!1},pt=()=>bt,gt={accountType:e=>e.accountType,auth:e=>e.data,loggedIn:e=>e.data.loggedIn,credits:e=>e.data.credits,error:e=>e.error,failed:e=>e.failed,googlePicture:e=>e.googlePicture,loaded:e=>e.loaded,loading:e=>e.loading},Ot={[K.FETCH]:e=>dt(e,{cb:()=>q(),types:K})},jt={[K.PENDING](e){e.loading=!0},[K.SUCCESS](e,t){const{googleId:a,id:r=null}=t||{},s=r?{...t,accountType:a?"google":"local",loggedIn:!0}:mt;e.data=s,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[K.FAILURE](e,t){e.data=mt,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var vt={namespaced:!0,state:pt,getters:gt,actions:Ot,mutations:jt};const ft="/api/countries",ht=()=>N({url:""+ft}),yt={data:[],error:null,failed:!1,loaded:!1,loading:!1},wt=()=>yt,Ut={all:e=>e.data,options:e=>e.data.reduce((e,t)=>(e.push({key:t.countryId,value:t.countryCode,text:t.countryName}),e),[]),error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading},It={[Z.FETCH]:e=>dt(e,{cb:()=>ht(),types:Z})},xt={[Z.PENDING](e){e.loading=!0},[Z.SUCCESS](e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[Z.FAILURE](e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var Ft={namespaced:!0,state:wt,getters:Ut,actions:It,mutations:xt};const St="/api/states",Et=()=>N({url:""+St}),Ct={data:[],error:null,failed:!1,loaded:!1,loading:!1},Bt=()=>Ct,Nt={all:e=>e.data,options:e=>e.data.reduce((e,t)=>(e.push({key:t.stateId,value:t.stateCode,text:t.stateName}),e),[]),error:e=>e.error,failed:e=>e.failed,loaded:e=>e.loaded,loading:e=>e.loading},_t={[W.FETCH]:e=>dt(e,{cb:()=>Et(),types:W})},At={[W.PENDING](e){e.loading=!0},[W.SUCCESS](e,t){e.data=t,e.error=null,e.failed=!1,e.loaded=!0,e.loading=!1},[W.FAILURE](e,t){e.data=null,e.error=t,e.failed=!0,e.loaded=!1,e.loading=!1}};var kt={namespaced:!0,state:Bt,getters:Nt,actions:_t,mutations:At};const qt={async init({dispatch:e}){await e("auth/AUTH_FETCH")}};var Pt=qt;const Tt=!1,Dt=Object(S["b"])({plugins:[...Tt?[Object(S["a"])()]:[]],actions:Pt,modules:{test:ut,auth:vt,countries:Ft,states:kt},strict:Tt});var Mt=Dt;const $t=Mt.dispatch("init"),Lt=Object(r["b"])(()=>Mt.getters["auth/loggedIn"]),Vt=Object(l["a"])({history:Object(l["b"])(),routes:ot});Vt.beforeEach((e,t,a)=>{$t.then(a).catch(e=>console.log("Unable to initialize store",e))}),Vt.beforeEach((e,t,a)=>{e.matched.some(e=>e.meta.guest)?Lt.value?a({name:"dashboard"}):a():e.matched.some(e=>e.meta.auth)?Lt.value?a():a({name:"login"}):a()});var Rt=Vt;const Ht=Object(r["M"])("data-v-092b3d2c");Object(r["v"])("data-v-092b3d2c");const Jt={class:"app"},zt={class:"app__header"},Gt={class:"app__main"},Kt=Object(r["g"])("footer",{class:"app__footer"},"© Quizdini 2013-21",-1);Object(r["t"])();const Zt=Ht((e,t,a,s,o,n)=>{const l=Object(r["A"])("app-nav");return Object(r["s"])(),Object(r["d"])("div",Jt,[Object(r["g"])("header",zt,[Object(r["g"])(l,{class:"app__nav"})]),Object(r["g"])("main",Gt,[Object(r["z"])(e.$slots,"default")]),Kt])}),Wt={class:"nav"},Qt={key:0,class:"nav__item"},Xt={key:1,href:"/logout",class:"nav__item",target:"_self"},Yt={key:2,class:"nav__item badge"},ea={key:3,class:"nav__item nav__item--lc"};function ta(e,t,a,s,o,n){const l=Object(r["A"])("NavItems");return Object(r["s"])(),Object(r["d"])("nav",Wt,[Object(r["g"])(l,{items:s.routes,authenticated:s.auth.loggedIn},null,8,["items","authenticated"]),s.auth.loggedIn&&s.auth.credits>=0?(Object(r["s"])(),Object(r["d"])("span",Qt,"Credits: "+Object(r["D"])(s.auth.credits),1)):Object(r["e"])("",!0),s.auth.loggedIn?(Object(r["s"])(),Object(r["d"])("a",Xt,"logout")):Object(r["e"])("",!0),s.auth.loggedIn&&"google"===s.auth.accountType?(Object(r["s"])(),Object(r["d"])("span",Yt,["google"===s.auth.accountType?(Object(r["s"])(),Object(r["d"])("img",{key:0,src:s.auth.googlePicture,class:"badge--google"},null,8,["src"])):Object(r["e"])("",!0)])):Object(r["e"])("",!0),s.auth.loggedIn&&"local"===s.auth.accountType?(Object(r["s"])(),Object(r["d"])("span",ea,Object(r["D"])(s.auth.username),1)):Object(r["e"])("",!0)])}function aa(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(r["l"])(e)}const ra=({items:e,authenticated:t})=>e.filter(e=>{const{meta:{navItem:a=!1,auth:r=!1,guest:s=!1}={}}=e;return!!a&&(t?r||!s:!r)}).map(e=>{const{name:t}=e;return Object(r["g"])(Object(r["A"])("router-link"),{class:"nav__item",to:{name:t},key:t},aa(t)?t:{default:()=>[t]})});var sa={name:"AppNav",components:{NavItems:ra},setup(){const e=Object(S["c"])(),t=Object(r["b"])(()=>e.getters["auth/auth"]);return{auth:t,routes:ot}}};a("9fc1");sa.render=ta;var oa=sa,na={name:"LayoutDefault",components:{AppNav:oa}};a("361e");na.render=Zt,na.__scopeId="data-v-092b3d2c";var la=na;const ia=[la];var ca={install:(e,t)=>{ia.forEach(t=>{e.component(t.name,t)})}};Object(r["c"])(n).use(Mt).use(Rt).use(ca).mount("#quizdini")},"5e3e":function(e,t,a){"use strict";a("49da")},"6c08":function(e,t,a){},"9fc1":function(e,t,a){"use strict";a("ea6e")},bc43:function(e,t,a){"use strict";a("f50f")},df1a:function(e,t,a){"use strict";a("6c08")},ea6e:function(e,t,a){},f50f:function(e,t,a){}});
//# sourceMappingURL=app.78afbc11.js.map